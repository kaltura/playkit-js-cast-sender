{"version":3,"sources":["./cast/sender/webpack/universalModuleDefinition","./cast/sender/playkit-cast-sender.js","./cast/sender/webpack/bootstrap bd1475ceb0d9e0f59f5e","./cast/sender/external {\"commonjs\":\"kaltura-player-js\",\"commonjs2\":\"kaltura-player-js\",\"amd\":\"kaltura-player-js\",\"root\":[\"KalturaPlayer\"]}","./cast/sender/./cast-player.js","./cast/sender/./index.js","./cast/sender/./cast-state-manager.js","./cast/sender/./cast-tracks-manager.js","./cast/sender/./cast-playback-engine.js","./cast/sender/./cast-ui.js","./cast/sender/./cast-loader.js","./cast/sender/./cast-ads-controller.js","./cast/sender/./cast-ads-manager.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","value","writable","setPrototypeOf","__proto__","CastPlayer","CUSTOM_CHANNEL","SECONDS_TO_MINUTES_DIVIDER","INTERVAL_FREQUENCY","undefined","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_kalturaPlayerJs","_castStateManager","_castTracksManager","_castPlaybackEngine","_castUi","_castLoader","_castAdsController","_castAdsManager","Env","core","EventType","Track","TextStyle","StateType","FakeEvent","Utils","EngineType","AbrMode","Error","BaseRemotePlayer","cast","PlayerSnapshot","RemoteConnectedPayload","RemoteControl","RemoteDisconnectedPayload","RemoteAvailablePayload","RemoteSession","TextStyleConverter","CustomMessageType","CustomMessage","CustomEventMessage","_BaseRemotePlayer","castConfig","remoteControl","_this","getPrototypeOf","_readyPromise","_mediaInfo","_firstPlay","_ended","_playbackStarted","_reset","_destroyed","_isOnLiveEdge","CastLoader","load","then","_initializeCastApi","_initializeRemotePlayer","catch","e","_logger","error","browser","os","mediaInfo","options","debug","_castMedia","mediaConfig","copyDeep","sources","_playerConfig","plugins","Promise","resolve","ended","_adsManager","adBreak","_engine","play","_loadOrSetMedia","getMediaConfig","pause","clearInterval","_mediaInfoIntervalId","_tracksManager","reset","_stateManager","_createReadyPromise","dispatchEvent","PLAYER_RESET","_eventManager","destroy","PLAYER_DESTROY","_castRemotePlayer","streamType","chrome","media","StreamType","LIVE","isLive","mediaSession","_castSession","getMediaSession","range","liveSeekableRange","startMinutes","start","end","_castConfig","liveEdgeThreshold","currentTime","type","getTracks","getActiveTracks","track","selectTrack","hideTextTrack","framework","CastContext","getInstance","requestSession","reject","endSession","_remoteSession","_this2","receiverApplicationId","DEFAULT_MEDIA_RECEIVER_APP_ID","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","castContext","setOptions","addEventListener","CastContextEventType","CAST_STATE_CHANGED","event","payload","castState","CastState","NO_DEVICES_AVAILABLE","_remoteControl","onRemoteDeviceAvailable","_this3","_castContext","_addSessionLifecycleListeners","RemotePlayer","_castRemotePlayerController","RemotePlayerController","RemotePlayerEventType","IS_CONNECTED_CHANGED","isConnected","_setupRemotePlayer","_setupLocalPlayer","_this4","getCurrentSession","addMessageListener","customChannel","customMessage","_onCustomMessage","CastTracksManager","CastPlaybackEngine","CastStateManager","CastAdsManager","_ui","CastUI","_attachListeners","snapshot","getPlayerSnapshot","config","getSessionId","getCastDevice","friendlyName","getSessionState","SessionState","SESSION_STARTED","onRemoteDeviceConnected","resuming","major","loadOptions","_getLoadOptions","_resumeSession","mediaObject","loadMedia","setMedia","_this5","getUIWrapper","CHANGE_SOURCE_STARTED","MediaInfo","request","LoadRequest","keys","forEach","option","mediaOption","customData","_onLoadMediaSuccess","_onLoadMediaFailed","onRemoteDeviceDisconnected","_this6","listenOnce","TRACKS_CHANGED","MEDIA_LOADED","_this7","listen","TIME_UPDATE","PAUSE","_onPause","PLAY","VOLUME_CHANGE","MUTE_CHANGE","DURATION_CHANGE","ENDED","_onEnded","SEEKING","SEEKED","TEXT_TRACK_CHANGED","VIDEO_TRACK_CHANGED","AUDIO_TRACK_CHANGED","TEXT_STYLE_CHANGED","ERROR","PLAYER_STATE_CHANGED","_onPlayerStateChanged","_this8","_this9","allAdsCompleted","PLAYBACK_ENDED","ALL_ADS_COMPLETED","currentState","PLAYING","CHANGE_SOURCE_ENDED","PLAYBACK_START","FIRST_PLAY","FIRST_PLAYING","paused","_this10","setInterval","_triggerInitialPlayerEvents","parseTracks","_handleFirstPlay","startTime","playback","duration","SOURCE_SELECTED","selectedSource","url","contentUrl","mimetype","contentType","LOADED_METADATA","ABR_MODE_CHANGED","mode","AUTO","Severity","CRITICAL","Category","CAST","Code","CAST_LOAD_MEDIA_FAILED","_this11","SESSION_STATE_CHANGED","sessionState","SESSION_STARTING","onRemoteDeviceConnecting","SESSION_RESUMED","SESSION_ENDING","onRemoteDeviceDisconnecting","SESSION_START_FAILED","onRemoteDeviceConnectFailed","autoplay","textStyle","isEqual","textTrackStyle","toCastTextStyle","audioLanguage","textLanguage","advertising","adTagUrl","_adsController","CastAdsController","castAdvertising","vast","breakClipId","Generator","uniqueId","breakId","breakClips","id","position","vastAdsRequest","_getAdsRequest","breaks","breakClipIds","vmapAdsRequest","externalCaptions","_getExternalCaptions","tracks","_this12","captions","caption","index","endsWith","newTrack","TrackType","TEXT","mergeDeep","trackContentId","trackContentType","label","language","push","warn","adsRequest","adsResponse","parsedCustomMessage","JSON","parse","EVENT","_handleCustomEvent","RECOVERABLE","CAST_CUSTOM_MESSAGE_PARSING_ERROR","customEvent","set","style","to","vol","volume","seeking","mute","muted","metadata","images","playbackRate","Type","defaultConfig","NAME","VERSION","_castPlayer","registerRemotePlayer","isSupported","State","FakeEventTarget","_FakeEventTarget","remotePlayer","remotePlayerController","_remotePlayer","_remotePlayerController","_currentState","IDLE","_previousState","_updateState","bind","Date","now","playerState","toLowerCase","oldState","previousState","newState","removeEventListener","_defineProperty","obj","_TRACK_TYPE_TO_INSTAN","getLogger","AudioTrack","VideoTrack","TextTrack","TRACK_TYPE_TO_INSTANCE","AUDIO","VIDEO","_activeTrackIds","_tracks","_textStyle","_bindEvents","castTextTracks","filter","t","castVideoTracks","castAudioTracks","textTracks","_parseTextTracks","videoTracks","_parseVideoTracks","audioTracks","_parseAudioTracks","concat","_addTextTrackOffOption","_startOnMediaStatusUpdateInterval","_getTracksByType","video","find","active","audio","text","_selectVideoTrack","_selectAudioTrack","_selectTextTrack","offTrack","_stopOnMediaStatusUpdateInterval","_mediaStatusIntervalId","_onMediaStatusUpdate","pushTextTrack","settings","trackId","kind","subType","inbandCastTextTracks","outbandCastTextTracks","some","inbandTrack","langComparer","currentTrack","_selectTrack","selectedVideoTrack","EDIT_TRACKS_INFO_ERROR","selectedAudioTrack","CAST_EDIT_TRACKS_INFO_ERROR","selectedTextTrack","onSuccess","onFailed","indexOf","splice","tracksInfoRequest","EditTracksInfoRequest","editTracksInfo","_markActiveTrack","origTrack","activeTrackIds","every","includes","localTextStyle","remoteTextStyle","backgroundColor","fontFamily","fontScale","foregroundColor","toPlayerTextStyle","clone","_muted","_volume","_paused","_currentTime","_duration","_seeking","_toggleListeners","_liveCurrentTimeIntervalId","_resetFlags","playOrPause","canPause","_onCurrentTimeChanged","_onIsPausedChanged","_onDurationChanged","_onVolumeLevelChanged","_onIsMutedChanged","_onIsMediaLoadedChanged","_onLiveCurrentTimeChanged","_listeners","listeners","IS_MEDIA_LOADED_CHANGED","IS_PAUSED_CHANGED","DURATION_CHANGED","VOLUME_LEVEL_CHANGED","IS_MUTED_CHANGED","CURRENT_TIME_CHANGED","isMediaLoadedEvent","onMediaInfoChanged","MEDIA_INFO_CHANGED","_mediaSession","_maybeDispatchTimeUpdate","_maybeEndPlayback","_maybeEndLivePlayback","isPaused","volumeLevel","isMuted","_seekTargetTime","_seekForward","delta","Math","round","isLiveDone","muteOrUnmute","canControlVolume","setVolumeLevel","canSeek","seek","savedPlayerState","ui","Components","RemotePlayerUI","_RemotePlayerUI","apply","arguments","h","className","playbackGuiWrapper","KeyboardControl","player","Loading","playerGui","OverlayPortal","BottomBar","SeekBarPlaybackContainer","showFramePreview","showTimeBubble","playerContainer","leftControls","PlaybackControls","RewindControl","step","ForwardControl","TimeDisplayPlaybackContainer","format","rightControls","VolumeControl","LanguageControl","CastControl","FullscreenControl","CastOverlay","OverlayAction","PrePlaybackPlayOverlay","CastAfterPlay","SeekBarLivePlaybackContainer","LiveTag","adGuiWrapper","TopBar","AdNotice","AdLearnMore","AdSkip","TimeDisplayAdsContainer","window","isAvailable","_onGCastApiAvailable","_loadCastSDK","Dom","loadScriptAsync","toString","CustomActionMessage","CustomActionType","sendMessage","SKIP_AD","EventManager","castPlayer","_adBreak","_allAdsCompleted","AD_MANIFEST_LOADED","AD_BREAK_START","AD_BREAK_END","removeAll"],"mappings":"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","file":"playkit-cast-sender.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"kaltura-player-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sender\", [\"kaltura-player-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sender\"] = factory(require(\"kaltura-player-js\"));\n\telse\n\t\troot[\"KalturaPlayer\"] = root[\"KalturaPlayer\"] || {}, root[\"KalturaPlayer\"][\"cast\"] = root[\"KalturaPlayer\"][\"cast\"] || {}, root[\"KalturaPlayer\"][\"cast\"][\"sender\"] = factory(root[\"KalturaPlayer\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"kaltura-player-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sender\", [\"kaltura-player-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sender\"] = factory(require(\"kaltura-player-js\"));\n\telse\n\t\troot[\"KalturaPlayer\"] = root[\"KalturaPlayer\"] || {}, root[\"KalturaPlayer\"][\"cast\"] = root[\"KalturaPlayer\"][\"cast\"] || {}, root[\"KalturaPlayer\"][\"cast\"][\"sender\"] = factory(root[\"KalturaPlayer\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastPlayer = exports.CUSTOM_CHANNEL = exports.SECONDS_TO_MINUTES_DIVIDER = exports.INTERVAL_FREQUENCY = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nvar _castStateManager = __webpack_require__(3);\n\nvar _castTracksManager = __webpack_require__(4);\n\nvar _castPlaybackEngine = __webpack_require__(5);\n\nvar _castUi = __webpack_require__(6);\n\nvar _castLoader = __webpack_require__(7);\n\nvar _castAdsController = __webpack_require__(8);\n\nvar _castAdsManager = __webpack_require__(9);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Env = _kalturaPlayerJs.core.Env,\n    Track = _kalturaPlayerJs.core.Track,\n    TextStyle = _kalturaPlayerJs.core.TextStyle,\n    EventType = _kalturaPlayerJs.core.EventType,\n    StateType = _kalturaPlayerJs.core.StateType,\n    FakeEvent = _kalturaPlayerJs.core.FakeEvent,\n    Utils = _kalturaPlayerJs.core.Utils,\n    EngineType = _kalturaPlayerJs.core.EngineType,\n    AbrMode = _kalturaPlayerJs.core.AbrMode,\n    Error = _kalturaPlayerJs.core.Error;\nvar BaseRemotePlayer = _kalturaPlayerJs.cast.BaseRemotePlayer,\n    PlayerSnapshot = _kalturaPlayerJs.cast.PlayerSnapshot,\n    RemoteControl = _kalturaPlayerJs.cast.RemoteControl,\n    RemoteConnectedPayload = _kalturaPlayerJs.cast.RemoteConnectedPayload,\n    RemoteDisconnectedPayload = _kalturaPlayerJs.cast.RemoteDisconnectedPayload,\n    RemoteAvailablePayload = _kalturaPlayerJs.cast.RemoteAvailablePayload,\n    RemoteSession = _kalturaPlayerJs.cast.RemoteSession,\n    TextStyleConverter = _kalturaPlayerJs.cast.TextStyleConverter,\n    CustomMessageType = _kalturaPlayerJs.cast.CustomMessageType,\n    CustomMessage = _kalturaPlayerJs.cast.CustomMessage,\n    CustomEventMessage = _kalturaPlayerJs.cast.CustomEventMessage;\nvar INTERVAL_FREQUENCY = exports.INTERVAL_FREQUENCY = 500;\nvar SECONDS_TO_MINUTES_DIVIDER = exports.SECONDS_TO_MINUTES_DIVIDER = 60;\nvar CUSTOM_CHANNEL = exports.CUSTOM_CHANNEL = 'urn:x-cast:com.kaltura.cast.playkit';\n\n/**\n * The threshold in seconds from duration that we still consider it as live edge\n * @type {number}\n * @const\n */\nvar LIVE_EDGE_THRESHOLD = 10;\n\n/**\n * Cast Sender Player.\n * @class CastPlayer\n * @param {CastConfigObject} config - The cast configuration.\n * @param {RemoteControl} remoteControl - The remote control.\n * @extends BaseRemotePlayer\n */\n\nvar CastPlayer = function (_BaseRemotePlayer) {\n  _inherits(CastPlayer, _BaseRemotePlayer);\n\n  _createClass(CastPlayer, null, [{\n    key: 'isSupported',\n\n\n    /**\n     * @function isSupported\n     * @static\n     * @returns {boolean} - Whether the cast player is supported in the current runtime environment.\n     * @memberof CastPlayer\n     * @override\n     */\n    value: function isSupported() {\n      return Env.browser.name === 'Chrome' && Env.os.name !== 'iOS';\n    }\n\n    /**\n     * The default cast configuration.\n     * @static\n     * @type {Object}\n     * @memberof CastPlayer\n     * @override\n     */\n\n    /**\n     * The remote player type.\n     * @static\n     * @type {string}\n     * @memberof CastPlayer\n     * @override\n     */\n\n  }]);\n\n  function CastPlayer(castConfig, remoteControl) {\n    _classCallCheck(this, CastPlayer);\n\n    var _this = _possibleConstructorReturn(this, (CastPlayer.__proto__ || Object.getPrototypeOf(CastPlayer)).call(this, 'CastPlayer', castConfig, remoteControl));\n\n    _this._readyPromise = null;\n    _this._mediaInfo = null;\n    _this._firstPlay = true;\n    _this._ended = false;\n    _this._playbackStarted = false;\n    _this._reset = true;\n    _this._destroyed = false;\n    _this._isOnLiveEdge = false;\n\n    _castLoader.CastLoader.load().then(function () {\n      _this._initializeCastApi();\n      _this._initializeRemotePlayer();\n    }).catch(function (e) {\n      _this._logger.error('Cast initialized error', e);\n    });\n    return _this;\n  }\n\n  /**\n   * Loads a media to the receiver application.\n   * @param {ProviderMediaInfoObject} mediaInfo - The entry media info.\n   * @param {Object} [options] - The request options. See {@link https://developers.google.com/cast/docs/reference/chrome/chrome.cast.media.LoadRequest|chrome.cast.media.LoadRequest}\n   * @returns {Promise<void>} - Promise to indicate load succeed or failed.\n   * @instance\n   * @memberof CastPlayer\n   */\n\n\n  _createClass(CastPlayer, [{\n    key: 'loadMedia',\n    value: function loadMedia(mediaInfo, options) {\n      this._logger.debug('Load media', mediaInfo, options);\n      this._mediaInfo = mediaInfo;\n      return this._castMedia({ mediaInfo: mediaInfo }, options);\n    }\n\n    /**\n     * Set a media to the receiver application.\n     * @param {ProviderMediaConfigObject} mediaConfig - The entry media config.\n     * @param {Object} [options] - The request options. See {@link https://developers.google.com/cast/docs/reference/chrome/chrome.cast.media.LoadRequest|chrome.cast.media.LoadRequest}\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'setMedia',\n    value: function setMedia(mediaConfig, options) {\n      this._logger.debug('Set media', mediaConfig, options);\n      this._castMedia({ mediaConfig: mediaConfig }, options);\n    }\n\n    /**\n     * Gets the media Info.\n     * @returns {ProviderMediaInfoObject} - The media info.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'getMediaInfo',\n    value: function getMediaInfo() {\n      return Utils.Object.copyDeep(this._mediaInfo);\n    }\n\n    /**\n     * Gets the media config.\n     * @returns {ProviderMediaConfigObject} - The media config.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'getMediaConfig',\n    value: function getMediaConfig() {\n      var mediaConfig = {\n        sources: this._playerConfig.sources,\n        plugins: this._playerConfig.plugins\n      };\n      return Utils.Object.copyDeep(mediaConfig);\n    }\n\n    /**\n     * The cast player readiness.\n     * @returns {Promise<*>} - Promise which resolved when the cast player is ready.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'ready',\n    value: function ready() {\n      return this._readyPromise ? this._readyPromise : Promise.resolve();\n    }\n\n    /**\n     * Start/resume playback.\n     * @instance\n     * @returns {void}\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'play',\n    value: function play() {\n      if (!this.ended || this._adsManager.adBreak) {\n        this._engine.play();\n      } else {\n        this._loadOrSetMedia({\n          mediaInfo: this._mediaInfo,\n          mediaConfig: this.getMediaConfig()\n        });\n      }\n    }\n\n    /**\n     * Pause playback.\n     * @instance\n     * @returns {void}\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this._engine.pause();\n    }\n\n    /**\n     * Stops and reset the cast player.\n     * @instance\n     * @returns {void}\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      clearInterval(this._mediaInfoIntervalId);\n      if (this._reset) return;\n      this._reset = true;\n      this._firstPlay = true;\n      this._ended = false;\n      this._isOnLiveEdge = false;\n      this._tracksManager.reset();\n      this._engine.reset();\n      this._adsManager.reset();\n      this._stateManager.reset();\n      this._readyPromise = this._createReadyPromise();\n      this.dispatchEvent(new FakeEvent(EventType.PLAYER_RESET));\n    }\n\n    /**\n     * Destroys the cast player.\n     * @instance\n     * @returns {void}\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      clearInterval(this._mediaInfoIntervalId);\n      if (this._destroyed) return;\n      this._destroyed = true;\n      this._firstPlay = true;\n      this._ended = false;\n      this._isOnLiveEdge = false;\n      this._readyPromise = null;\n      this._eventManager.destroy();\n      this._tracksManager.destroy();\n      this._engine.destroy();\n      this._adsManager.destroy();\n      this._stateManager.destroy();\n      this.dispatchEvent(new FakeEvent(EventType.PLAYER_DESTROY));\n    }\n\n    /**\n     * @returns {boolean} - Whether the current playback is a live playback.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'isLive',\n    value: function isLive() {\n      var mediaInfo = this._castRemotePlayer.mediaInfo;\n      return mediaInfo ? mediaInfo.streamType === chrome.cast.media.StreamType.LIVE : false;\n    }\n\n    /**\n     * Get whether the video is seeked to live edge in dvr\n     * @returns {boolean} - Whether the video is seeked to live edge in dvr\n     * @public\n     */\n\n  }, {\n    key: 'isOnLiveEdge',\n    value: function isOnLiveEdge() {\n      return this._isOnLiveEdge;\n    }\n\n    /**\n     * @returns {boolean} - Whether the current live playback has DVR window. In case of non-live playback will return false.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'isDvr',\n    value: function isDvr() {\n      if (this.isLive()) {\n        var mediaSession = this._castSession.getMediaSession();\n        if (mediaSession) {\n          var range = mediaSession.liveSeekableRange;\n          if (range) {\n            var startMinutes = range.start / SECONDS_TO_MINUTES_DIVIDER;\n            var endMinutes = range.end / SECONDS_TO_MINUTES_DIVIDER;\n            return endMinutes - startMinutes > this._castConfig.liveEdgeThreshold;\n          }\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Seeks to the live edge.\n     * @instance\n     * @returns {void}\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'seekToLiveEdge',\n    value: function seekToLiveEdge() {\n      var mediaSession = this._castSession.getMediaSession();\n      if (mediaSession) {\n        var range = mediaSession.liveSeekableRange;\n        if (range) {\n          this._engine.currentTime = range.end;\n        }\n      }\n    }\n\n    /**\n     * @returns {number} - The start time of the DVR window.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'getStartTimeOfDvrWindow',\n    value: function getStartTimeOfDvrWindow() {\n      var mediaSession = this._castSession.getMediaSession();\n      if (mediaSession) {\n        var range = mediaSession.liveSeekableRange;\n        if (range) {\n          return range.start;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * @function enableAdaptiveBitrate\n     * @description Enables automatic adaptive bitrate switching.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n    /**\n     * @function isAdaptiveBitrateEnabled\n     * @returns {boolean} - Whether adaptive bitrate is enabled.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n    /**\n     * @param {string} [type] - Track type.\n     * @returns {Array<Track>} - The cast player tracks.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'getTracks',\n    value: function getTracks(type) {\n      return this._tracksManager.getTracks(type);\n    }\n\n    /**\n     * @returns {Object} - The cast player active tracks.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'getActiveTracks',\n    value: function getActiveTracks() {\n      return this._tracksManager.getActiveTracks();\n    }\n\n    /**\n     * Select a certain track to be active.\n     * @param {Track} track - The track to activate.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'selectTrack',\n    value: function selectTrack(track) {\n      this._tracksManager.selectTrack(track);\n    }\n\n    /**\n     * Hides the active text track.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'hideTextTrack',\n    value: function hideTextTrack() {\n      this._tracksManager.hideTextTrack();\n    }\n\n    /**\n     * Start casting.\n     * @returns {Promise<*>} - A promise to indicate session is starting, or failed\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'startCasting',\n    value: function startCasting() {\n      return cast && cast.framework ? cast.framework.CastContext.getInstance().requestSession() : Promise.reject();\n    }\n\n    /**\n     * @returns {boolean} - Whether casting is available.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'isCastAvailable',\n    value: function isCastAvailable() {\n      return !!this._castRemotePlayer;\n    }\n\n    /**\n     * Stops the current cast session.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'stopCasting',\n    value: function stopCasting() {\n      this._castSession.endSession(true);\n    }\n\n    /**\n     * Gets the current remote session.\n     * @returns {RemoteSession} - The remote session.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'getCastSession',\n    value: function getCastSession() {\n      return Utils.Object.copyDeep(this._remoteSession);\n    }\n\n    /**\n     * @return {CastAdsController} - The cast ads controller.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: '_initializeCastApi',\n\n\n    /**\n     * @name config\n     * @returns {Object} - The runtime cast player config.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n    value: function _initializeCastApi() {\n      var _this2 = this;\n\n      var options = {};\n\n      options.receiverApplicationId = this._castConfig.receiverApplicationId || chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID;\n      options.autoJoinPolicy = this._castConfig.autoJoinPolicy || chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;\n\n      this._logger.debug('Init cast API with options', options);\n      var castContext = cast.framework.CastContext.getInstance();\n      castContext.setOptions(options);\n      castContext.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED, function (event) {\n        var payload = new RemoteAvailablePayload(_this2, event.castState !== cast.framework.CastState.NO_DEVICES_AVAILABLE);\n        _this2._remoteControl.onRemoteDeviceAvailable(payload);\n      });\n    }\n  }, {\n    key: '_initializeRemotePlayer',\n    value: function _initializeRemotePlayer() {\n      var _this3 = this;\n\n      this._castContext = cast.framework.CastContext.getInstance();\n      this._addSessionLifecycleListeners();\n      this._castRemotePlayer = new cast.framework.RemotePlayer();\n      this._castRemotePlayerController = new cast.framework.RemotePlayerController(this._castRemotePlayer);\n      this._castRemotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED, function () {\n        if (_this3._castRemotePlayer.isConnected) {\n          _this3._setupRemotePlayer();\n        } else {\n          _this3._setupLocalPlayer();\n        }\n      });\n    }\n  }, {\n    key: '_setupRemotePlayer',\n    value: function _setupRemotePlayer() {\n      var _this4 = this;\n\n      this._logger.debug('Setup remote player');\n      this._castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n      this._castSession.addMessageListener(CUSTOM_CHANNEL, function (customChannel, customMessage) {\n        return _this4._onCustomMessage(customChannel, customMessage);\n      });\n      this._tracksManager = new _castTracksManager.CastTracksManager(this._castRemotePlayer);\n      this._engine = new _castPlaybackEngine.CastPlaybackEngine(this._castRemotePlayer, this._castRemotePlayerController);\n      this._stateManager = new _castStateManager.CastStateManager(this._castRemotePlayer, this._castRemotePlayerController);\n      this._adsManager = new _castAdsManager.CastAdsManager(this);\n      this._ui = new _castUi.CastUI();\n      this._attachListeners();\n      var snapshot = this._remoteControl.getPlayerSnapshot();\n      this._playerConfig = snapshot.config;\n      this._remoteSession = new RemoteSession(this._castSession.getSessionId(), this._castSession.getCastDevice().friendlyName, this._castSession.getSessionState() !== cast.framework.SessionState.SESSION_STARTED);\n      var payload = new RemoteConnectedPayload(this, this._remoteSession, this._ui);\n      this._remoteControl.onRemoteDeviceConnected(payload);\n      if (this._remoteSession.resuming && !(Env.browser.major >= 73 && Env.os.name === 'Android')) {\n        // Android Chrome 73 and up gets SESSION_RESUMED also in the initial session\n        this._resumeSession();\n      } else if (snapshot) {\n        var loadOptions = this._getLoadOptions(snapshot);\n        this._loadOrSetMedia(snapshot, loadOptions);\n      }\n    }\n  }, {\n    key: '_loadOrSetMedia',\n    value: function _loadOrSetMedia(mediaObject, options) {\n      var mediaInfo = mediaObject.mediaInfo,\n          mediaConfig = mediaObject.mediaConfig;\n\n      if (mediaInfo) {\n        this.loadMedia(mediaInfo, options);\n      } else if (mediaConfig) {\n        this.setMedia({ sources: mediaObject.mediaConfig.sources, plugins: {} }, options);\n      }\n    }\n  }, {\n    key: '_castMedia',\n    value: function _castMedia(mediaObject, options) {\n      var _this5 = this;\n\n      this.reset();\n      this._remoteControl.getUIWrapper().reset();\n\n      if (this._playbackStarted) {\n        this.dispatchEvent(new FakeEvent(EventType.CHANGE_SOURCE_STARTED));\n      }\n      var media = new chrome.cast.media.MediaInfo();\n      var request = new chrome.cast.media.LoadRequest(media);\n\n      if (options) {\n        Object.keys(options).forEach(function (option) {\n          if (option !== 'media') {\n            // $FlowFixMe\n            request[option] = options[option];\n          } else {\n            // $FlowFixMe\n            Object.keys(options.media).forEach(function (mediaOption) {\n              // $FlowFixMe\n              media[mediaOption] = options.media[mediaOption];\n            });\n          }\n        });\n      }\n\n      media.customData = media.customData || {};\n      media.customData.mediaInfo = mediaObject.mediaInfo;\n      media.customData.mediaConfig = mediaObject.mediaConfig;\n      return this._castSession.loadMedia(request).then(function () {\n        return _this5._onLoadMediaSuccess();\n      }, function (error) {\n        return _this5._onLoadMediaFailed(error);\n      });\n    }\n  }, {\n    key: '_setupLocalPlayer',\n    value: function _setupLocalPlayer() {\n      this._logger.debug('Setup local player');\n      var snapshot = new PlayerSnapshot(this);\n      var payload = new RemoteDisconnectedPayload(this, snapshot);\n      this.pause();\n      this.destroy();\n      this._remoteControl.onRemoteDeviceDisconnected(payload);\n    }\n  }, {\n    key: '_createReadyPromise',\n    value: function _createReadyPromise() {\n      var _this6 = this;\n\n      this._readyPromise = new Promise(function (resolve) {\n        _this6._eventManager.listenOnce(_this6, EventType.TRACKS_CHANGED, function () {\n          _this6.dispatchEvent(new FakeEvent(EventType.MEDIA_LOADED));\n          resolve();\n        });\n      });\n    }\n  }, {\n    key: '_attachListeners',\n    value: function _attachListeners() {\n      var _this7 = this;\n\n      this._eventManager.listen(this._engine, EventType.TIME_UPDATE, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._engine, EventType.PAUSE, function (e) {\n        return _this7._onPause(e);\n      });\n      this._eventManager.listen(this._engine, EventType.PLAY, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._engine, EventType.VOLUME_CHANGE, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._engine, EventType.MUTE_CHANGE, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._engine, EventType.DURATION_CHANGE, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._engine, EventType.ENDED, function (e) {\n        return _this7._onEnded(e);\n      });\n      this._eventManager.listen(this._engine, EventType.SEEKING, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._engine, EventType.SEEKED, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._tracksManager, EventType.TRACKS_CHANGED, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._tracksManager, EventType.TEXT_TRACK_CHANGED, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._tracksManager, EventType.VIDEO_TRACK_CHANGED, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._tracksManager, EventType.AUDIO_TRACK_CHANGED, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._tracksManager, EventType.TEXT_STYLE_CHANGED, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._tracksManager, EventType.ERROR, function (e) {\n        return _this7.dispatchEvent(e);\n      });\n      this._eventManager.listen(this._stateManager, EventType.PLAYER_STATE_CHANGED, function (e) {\n        return _this7._onPlayerStateChanged(e);\n      });\n    }\n  }, {\n    key: '_onPause',\n    value: function _onPause(e) {\n      var _this8 = this;\n\n      this._isOnLiveEdge = false;\n      this._eventManager.listenOnce(this._engine, EventType.PLAY, function () {\n        _this8._isOnLiveEdge = true;\n      });\n      this.dispatchEvent(e);\n    }\n  }, {\n    key: '_onEnded',\n    value: function _onEnded(e) {\n      var _this9 = this;\n\n      this._ended = true;\n      this.dispatchEvent(e);\n      if (this._adsManager.allAdsCompleted) {\n        this.dispatchEvent(new FakeEvent(EventType.PLAYBACK_ENDED));\n      } else {\n        this._eventManager.listenOnce(this, EventType.ALL_ADS_COMPLETED, function () {\n          _this9.dispatchEvent(new FakeEvent(EventType.PLAYBACK_ENDED));\n        });\n      }\n    }\n  }, {\n    key: '_onPlayerStateChanged',\n    value: function _onPlayerStateChanged(e) {\n      if (this._ended) return;\n      if (this._stateManager.currentState.type === StateType.PLAYING) {\n        this.dispatchEvent(new FakeEvent(EventType.PLAYING));\n      }\n      this.dispatchEvent(e);\n    }\n  }, {\n    key: '_handleFirstPlay',\n    value: function _handleFirstPlay() {\n      if (this._playbackStarted) {\n        this.dispatchEvent(new FakeEvent(EventType.CHANGE_SOURCE_ENDED));\n      }\n      this.dispatchEvent(new FakeEvent(EventType.PLAYBACK_START));\n      this.dispatchEvent(new FakeEvent(EventType.PLAY));\n      this.dispatchEvent(new FakeEvent(EventType.FIRST_PLAY));\n      this.dispatchEvent(new FakeEvent(EventType.FIRST_PLAYING));\n      this.dispatchEvent(new FakeEvent(EventType.PLAYING));\n      if (this.paused) {\n        this.dispatchEvent(new FakeEvent(EventType.PAUSE));\n      }\n      this._firstPlay = false;\n      this._playbackStarted = true;\n    }\n  }, {\n    key: '_resumeSession',\n    value: function _resumeSession() {\n      var _this10 = this;\n\n      this._readyPromise = this._createReadyPromise();\n      this._mediaInfoIntervalId = setInterval(function () {\n        var mediaSession = _this10._castSession.getMediaSession();\n        if (mediaSession && mediaSession.customData) {\n          clearInterval(_this10._mediaInfoIntervalId);\n          _this10._mediaInfo = mediaSession.customData.mediaInfo;\n          _this10._logger.debug('Resuming session with media info', _this10._mediaInfo);\n          _this10._onLoadMediaSuccess();\n        }\n      }, INTERVAL_FREQUENCY);\n    }\n  }, {\n    key: '_onLoadMediaSuccess',\n    value: function _onLoadMediaSuccess() {\n      this._logger.debug('Load media success');\n      this._reset = false;\n      this._triggerInitialPlayerEvents();\n      this._tracksManager.parseTracks();\n      this._handleFirstPlay();\n      var startTime = this._playerConfig.playback.startTime;\n      if (this.isLive() && (startTime === -1 || typeof this.duration === 'number' && startTime >= this.duration - LIVE_EDGE_THRESHOLD)) {\n        this._isOnLiveEdge = true;\n      }\n    }\n  }, {\n    key: '_triggerInitialPlayerEvents',\n    value: function _triggerInitialPlayerEvents() {\n      this.dispatchEvent(new FakeEvent(EventType.SOURCE_SELECTED, {\n        selectedSource: [{\n          url: this._castRemotePlayer.mediaInfo.contentUrl,\n          mimetype: this._castRemotePlayer.mediaInfo.contentType\n        }]\n      }));\n      this.dispatchEvent(new FakeEvent(EventType.LOADED_METADATA));\n      this.dispatchEvent(new FakeEvent(EventType.ABR_MODE_CHANGED, { mode: AbrMode.AUTO }));\n    }\n  }, {\n    key: '_onLoadMediaFailed',\n    value: function _onLoadMediaFailed(error) {\n      this._logger.debug('Load media falied', error);\n      this.dispatchEvent(new FakeEvent(EventType.ERROR, new Error(Error.Severity.CRITICAL, Error.Category.CAST, Error.Code.CAST_LOAD_MEDIA_FAILED, error)));\n    }\n  }, {\n    key: '_addSessionLifecycleListeners',\n    value: function _addSessionLifecycleListeners() {\n      var _this11 = this;\n\n      this._castContext.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED, function (event) {\n        switch (event.sessionState) {\n          case cast.framework.SessionState.SESSION_STARTING:\n            _this11._remoteControl.onRemoteDeviceConnecting();\n            break;\n          case cast.framework.SessionState.SESSION_RESUMED:\n            if (Env.browser.major >= 73 && Env.os.name === 'Android') {\n              _this11._remoteControl.onRemoteDeviceConnecting();\n            }\n            break;\n          case cast.framework.SessionState.SESSION_ENDING:\n            _this11._remoteControl.onRemoteDeviceDisconnecting();\n            break;\n          case cast.framework.SessionState.SESSION_START_FAILED:\n            _this11._remoteControl.onRemoteDeviceConnectFailed();\n            break;\n        }\n      });\n    }\n  }, {\n    key: '_getLoadOptions',\n    value: function _getLoadOptions(snapshot) {\n      var loadOptions = {\n        autoplay: this._playerConfig.playback.autoplay,\n        currentTime: this._playerConfig.playback.startTime,\n        media: {}\n      };\n      if (this.textStyle && !this.textStyle.isEqual(snapshot.textStyle)) {\n        loadOptions.media.textTrackStyle = TextStyleConverter.toCastTextStyle(snapshot.textStyle);\n      }\n      loadOptions.media.customData = {\n        audioLanguage: this._playerConfig.playback.audioLanguage,\n        textLanguage: this._playerConfig.playback.textLanguage\n      };\n      if (snapshot.advertising && snapshot.advertising.adTagUrl) {\n        this._adsController = new _castAdsController.CastAdsController();\n        var castAdvertising = this._castConfig.advertising;\n        if (!castAdvertising || !castAdvertising.vast) {\n          loadOptions.media.vmapAdsRequest = this._getAdsRequest(snapshot.advertising);\n        } else {\n          var breakClipId = Utils.Generator.uniqueId(5);\n          var breakId = Utils.Generator.uniqueId(5);\n          var breakClips = [{\n            id: breakClipId,\n            position: 0,\n            vastAdsRequest: this._getAdsRequest(snapshot.advertising)\n          }];\n          var breaks = [{\n            breakClipIds: [breakClipId],\n            id: breakId,\n            position: 0\n          }];\n          loadOptions.media.breakClips = breakClips;\n          loadOptions.media.breaks = breaks;\n        }\n      }\n      var externalCaptions = this._getExternalCaptions();\n      externalCaptions.length && (loadOptions.media.tracks = externalCaptions);\n      return loadOptions;\n    }\n  }, {\n    key: '_getExternalCaptions',\n    value: function _getExternalCaptions() {\n      var _this12 = this;\n\n      var externalCaptions = [];\n      if (this._playerConfig.sources.captions && this._playerConfig.sources.captions.length) {\n        this._playerConfig.sources.captions.forEach(function (caption, index) {\n          if (caption.type === 'vtt' || caption.url.endsWith('.vtt')) {\n            var newTrack = void 0;\n            newTrack = new chrome.cast.media.Track(index + 1, chrome.cast.media.TrackType.TEXT);\n            Utils.Object.mergeDeep(newTrack, {\n              trackContentId: caption.url,\n              trackContentType: 'text/vtt',\n              name: caption.label,\n              language: caption.language\n            });\n            externalCaptions.push(newTrack);\n          } else {\n            _this12._logger.warn('Text track type ' + caption.type + ' is unsupported by Cast receiver');\n          }\n        });\n      }\n      return externalCaptions;\n    }\n  }, {\n    key: '_getAdsRequest',\n    value: function _getAdsRequest(advertising) {\n      var adsRequest = {};\n      if (advertising.adTagUrl) {\n        adsRequest.adTagUrl = advertising.adTagUrl;\n      }\n      if (advertising.adsResponse) {\n        adsRequest.adsResponse = advertising.adsResponse;\n      }\n      return adsRequest;\n    }\n  }, {\n    key: '_onCustomMessage',\n    value: function _onCustomMessage(customChannel, customMessage) {\n      try {\n        var parsedCustomMessage = JSON.parse(customMessage);\n        this._logger.debug('Custom message received', parsedCustomMessage);\n        switch (parsedCustomMessage.type) {\n          case CustomMessageType.EVENT:\n            this._handleCustomEvent(parsedCustomMessage);\n            break;\n        }\n      } catch (e) {\n        this.dispatchEvent(new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.CAST_CUSTOM_MESSAGE_PARSING_ERROR, e)));\n      }\n    }\n  }, {\n    key: '_handleCustomEvent',\n    value: function _handleCustomEvent(customEvent) {\n      this.dispatchEvent(new FakeEvent(customEvent.event, customEvent.payload));\n    }\n  }, {\n    key: 'ads',\n    get: function get() {\n      return this._adsController;\n    }\n\n    /**\n     * Setter.\n     * @param {TextStyle} style - The text style to set.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'textStyle',\n    set: function set(style) {\n      this._tracksManager.textStyle = style;\n    }\n\n    /**\n     * Getter.\n     * @returns {TextStyle} - The current text style.\n     * @instance\n     * @memberof CastPlayer\n     */\n    ,\n    get: function get() {\n      return this._tracksManager.textStyle;\n    }\n\n    /**\n     * Setter.\n     * @param {number} to - The number to set in seconds.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'currentTime',\n    set: function set(to) {\n      this._engine.currentTime = to;\n    }\n\n    /**\n     * Getter.\n     * @returns {number} - The current time in seconds.\n     * @instance\n     * @memberof CastPlayer\n     */\n    ,\n    get: function get() {\n      return this._engine.currentTime;\n    }\n\n    /**\n     * @returns {number} - The duration in seconds.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'duration',\n    get: function get() {\n      return this._engine.duration;\n    }\n\n    /**\n     * Setter.\n     * @param {number} vol - The volume to set in the range of 0-1.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'volume',\n    set: function set(vol) {\n      this._engine.volume = vol;\n    }\n\n    /**\n     * Getter.\n     * @returns {number} - The current volume in the range of 0-1.\n     * @instance\n     * @memberof CastPlayer\n     */\n    ,\n    get: function get() {\n      return this._engine.volume;\n    }\n\n    /**\n     * @returns {boolean} - Whether the cast player is in paused state.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'paused',\n    get: function get() {\n      return this._engine.paused;\n    }\n\n    /**\n     * @returns {boolean} - Whether the cast player is in ended state.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'ended',\n    get: function get() {\n      return this._ended;\n    }\n\n    /**\n     * @returns {boolean} - Whether the cast player is in seeking state.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'seeking',\n    get: function get() {\n      return this._engine.seeking;\n    }\n\n    /**\n     * Setter.\n     * @param {boolean} mute - The mute value to set.\n     * @returns {void}\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'muted',\n    set: function set(mute) {\n      this._engine.muted = mute;\n    }\n\n    /**\n     * Getter.\n     * @returns {boolean} - The muted state.\n     * @instance\n     * @memberof CastPlayer\n     */\n    ,\n    get: function get() {\n      return this._engine.muted;\n    }\n\n    /**\n     * @returns {string} - The current playing source url.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'src',\n    get: function get() {\n      if (this._castRemotePlayer.mediaInfo) {\n        return this._castRemotePlayer.mediaInfo.contentUrl;\n      }\n    }\n\n    /**\n     * @returns {string} - The current poster url.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'poster',\n    get: function get() {\n      try {\n        return this._castRemotePlayer.mediaInfo.metadata.images[0].url;\n      } catch (e) {\n        return '';\n      }\n    }\n\n    /**\n     * @returns {string} - The current playback rate.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'playbackRate',\n    get: function get() {\n      var mediaSession = this._castSession.getMediaSession();\n      if (mediaSession) {\n        return mediaSession.playbackRate;\n      }\n    }\n\n    /**\n     * @returns {string} - The active engine type.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'engineType',\n    get: function get() {\n      return EngineType.CAST;\n    }\n\n    /**\n     * @returns {string} - The remote player type.\n     * @instance\n     * @memberof CastPlayer\n     */\n\n  }, {\n    key: 'type',\n    get: function get() {\n      return CastPlayer.Type;\n    }\n  }]);\n\n  return CastPlayer;\n}(BaseRemotePlayer);\n\nCastPlayer.Type = 'chromecast';\nCastPlayer.defaultConfig = {\n  liveEdgeThreshold: 5\n};\nexports.CastPlayer = CastPlayer;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NAME = exports.VERSION = exports.RemotePlayer = undefined;\n\nvar _castPlayer = __webpack_require__(1);\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nvar registerRemotePlayer = _kalturaPlayerJs.cast.registerRemotePlayer;\nexports.RemotePlayer = _castPlayer.CastPlayer;\nexports.VERSION = \"0.4.2\";\nexports.NAME = \"@playkit-js/playkit-js-cast-sender\";\n\n\nif (_castPlayer.CastPlayer.isSupported()) {\n  registerRemotePlayer(_castPlayer.CastPlayer.Type, _castPlayer.CastPlayer);\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastStateManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar State = _kalturaPlayerJs.core.State,\n    FakeEvent = _kalturaPlayerJs.core.FakeEvent,\n    EventType = _kalturaPlayerJs.core.EventType,\n    FakeEventTarget = _kalturaPlayerJs.core.FakeEventTarget,\n    StateType = _kalturaPlayerJs.core.StateType;\n\nvar CastStateManager = function (_FakeEventTarget) {\n  _inherits(CastStateManager, _FakeEventTarget);\n\n  function CastStateManager(remotePlayer, remotePlayerController) {\n    _classCallCheck(this, CastStateManager);\n\n    var _this = _possibleConstructorReturn(this, (CastStateManager.__proto__ || Object.getPrototypeOf(CastStateManager)).call(this));\n\n    _this._remotePlayer = remotePlayer;\n    _this._remotePlayerController = remotePlayerController;\n    _this._currentState = new State(StateType.IDLE);\n    _this._previousState = new State(StateType.IDLE);\n    _this._updateState = _this._updateState.bind(_this);\n    _this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED, _this._updateState);\n    return _this;\n  }\n\n  _createClass(CastStateManager, [{\n    key: '_updateState',\n    value: function _updateState() {\n      this._currentState.duration = Date.now() / 1000;\n      this._previousState = this._currentState;\n      if (this._remotePlayer.playerState) {\n        this._currentState = new State(this._remotePlayer.playerState.toLowerCase());\n      } else {\n        this._currentState = new State(StateType.IDLE);\n      }\n      this.dispatchEvent(new FakeEvent(EventType.PLAYER_STATE_CHANGED, {\n        oldState: this.previousState,\n        newState: this.currentState\n      }));\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this._currentState = new State(StateType.IDLE);\n      this._previousState = new State(StateType.IDLE);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED, this._updateState);\n      this._currentState = new State(StateType.IDLE);\n      this._previousState = new State(StateType.IDLE);\n    }\n  }, {\n    key: 'currentState',\n    get: function get() {\n      return this._currentState;\n    }\n  }, {\n    key: 'previousState',\n    get: function get() {\n      return this._previousState;\n    }\n  }]);\n\n  return CastStateManager;\n}(FakeEventTarget);\n\nexports.CastStateManager = CastStateManager;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastTracksManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TRACK_TYPE_TO_INSTAN;\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nvar _castPlayer = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar TextStyleConverter = _kalturaPlayerJs.cast.TextStyleConverter;\nvar Track = _kalturaPlayerJs.core.Track,\n    getLogger = _kalturaPlayerJs.core.getLogger,\n    TextStyle = _kalturaPlayerJs.core.TextStyle,\n    AudioTrack = _kalturaPlayerJs.core.AudioTrack,\n    VideoTrack = _kalturaPlayerJs.core.VideoTrack,\n    TextTrack = _kalturaPlayerJs.core.TextTrack,\n    Utils = _kalturaPlayerJs.core.Utils,\n    TrackType = _kalturaPlayerJs.core.TrackType,\n    EventType = _kalturaPlayerJs.core.EventType,\n    FakeEvent = _kalturaPlayerJs.core.FakeEvent,\n    FakeEventTarget = _kalturaPlayerJs.core.FakeEventTarget,\n    Error = _kalturaPlayerJs.core.Error;\n\nvar TRACK_TYPE_TO_INSTANCE = (_TRACK_TYPE_TO_INSTAN = {}, _defineProperty(_TRACK_TYPE_TO_INSTAN, TrackType.AUDIO, AudioTrack), _defineProperty(_TRACK_TYPE_TO_INSTAN, TrackType.VIDEO, VideoTrack), _defineProperty(_TRACK_TYPE_TO_INSTAN, TrackType.TEXT, TextTrack), _TRACK_TYPE_TO_INSTAN);\n\nvar CastTracksManager = function (_FakeEventTarget) {\n  _inherits(CastTracksManager, _FakeEventTarget);\n\n  function CastTracksManager(remotePlayer) {\n    _classCallCheck(this, CastTracksManager);\n\n    var _this = _possibleConstructorReturn(this, (CastTracksManager.__proto__ || Object.getPrototypeOf(CastTracksManager)).call(this));\n\n    _this._activeTrackIds = [];\n    _this._tracks = [];\n\n    _this._remotePlayer = remotePlayer;\n    _this._logger = getLogger('CastTracksManager');\n    _this._castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n    _this._textStyle = new TextStyle();\n    _this._bindEvents();\n    return _this;\n  }\n\n  _createClass(CastTracksManager, [{\n    key: 'parseTracks',\n    value: function parseTracks() {\n      var tracks = this._remotePlayer.mediaInfo.tracks;\n      if (tracks && tracks.length > 0) {\n        var castTextTracks = tracks.filter(function (t) {\n          return t.type === chrome.cast.media.TrackType.TEXT;\n        });\n        var castVideoTracks = tracks.filter(function (t) {\n          return t.type === chrome.cast.media.TrackType.VIDEO;\n        });\n        var castAudioTracks = tracks.filter(function (t) {\n          return t.type === chrome.cast.media.TrackType.AUDIO;\n        });\n        var textTracks = this._parseTextTracks(castTextTracks);\n        var videoTracks = this._parseVideoTracks(castVideoTracks);\n        var audioTracks = this._parseAudioTracks(castAudioTracks);\n        this._tracks = audioTracks.concat(videoTracks).concat(textTracks);\n        this._addTextTrackOffOption();\n      }\n      this._logger.debug('Parse tracks', this._tracks);\n      this._startOnMediaStatusUpdateInterval();\n      this.dispatchEvent(new FakeEvent(EventType.TRACKS_CHANGED, { tracks: this._tracks }));\n    }\n  }, {\n    key: 'getTracks',\n    value: function getTracks(type) {\n      return Utils.Object.copyDeep(this._getTracksByType(type));\n    }\n  }, {\n    key: 'getActiveTracks',\n    value: function getActiveTracks() {\n      return Utils.Object.copyDeep({\n        video: this._getTracksByType(TrackType.VIDEO).find(function (track) {\n          return track.active;\n        }),\n        audio: this._getTracksByType(TrackType.AUDIO).find(function (track) {\n          return track.active;\n        }),\n        text: this._getTracksByType(TrackType.TEXT).find(function (track) {\n          return track.active;\n        })\n      });\n    }\n  }, {\n    key: 'selectTrack',\n    value: function selectTrack(track) {\n      if (track instanceof VideoTrack) {\n        this._selectVideoTrack(track);\n      } else if (track instanceof AudioTrack) {\n        this._selectAudioTrack(track);\n      } else if (track instanceof TextTrack) {\n        this._selectTextTrack(track);\n      }\n    }\n  }, {\n    key: 'hideTextTrack',\n    value: function hideTextTrack() {\n      var offTrack = this._tracks.find(function (t) {\n        return t.language === 'off';\n      });\n      this.selectTrack(offTrack);\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this._stopOnMediaStatusUpdateInterval();\n      this._tracks = [];\n      this._activeTrackIds = [];\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._stopOnMediaStatusUpdateInterval();\n      this._tracks = [];\n      this._activeTrackIds = [];\n    }\n  }, {\n    key: '_startOnMediaStatusUpdateInterval',\n    value: function _startOnMediaStatusUpdateInterval() {\n      if (!this._mediaStatusIntervalId) {\n        this._mediaStatusIntervalId = setInterval(this._onMediaStatusUpdate, _castPlayer.INTERVAL_FREQUENCY);\n      }\n    }\n  }, {\n    key: '_stopOnMediaStatusUpdateInterval',\n    value: function _stopOnMediaStatusUpdateInterval() {\n      if (this._mediaStatusIntervalId) {\n        clearInterval(this._mediaStatusIntervalId);\n        this._mediaStatusIntervalId = null;\n      }\n    }\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      this._onMediaStatusUpdate = this._onMediaStatusUpdate.bind(this);\n    }\n  }, {\n    key: '_parseTextTracks',\n    value: function _parseTextTracks(castTextTracks) {\n      var _this2 = this;\n\n      var textTracks = [];\n      var pushTextTrack = function pushTextTrack(track) {\n        var settings = {\n          id: track.trackId,\n          index: track.trackId - 1,\n          label: track.name,\n          language: track.language,\n          kind: track.subType || 'subtitles',\n          active: false\n        };\n        textTracks.push(new TextTrack(settings));\n      };\n      var inbandCastTextTracks = [];\n      var outbandCastTextTracks = [];\n      castTextTracks.forEach(function (track) {\n        if (track.trackContentId) {\n          outbandCastTextTracks.push(track);\n        } else {\n          inbandCastTextTracks.push(track);\n        }\n      });\n      inbandCastTextTracks.forEach(pushTextTrack);\n      outbandCastTextTracks.forEach(function (track) {\n        if (inbandCastTextTracks.some(function (inbandTrack) {\n          return Track.langComparer(track.language, inbandTrack.language);\n        })) {\n          _this2._logger.warn('duplicated language, taking the inband option. Language: ', track.language);\n        } else {\n          pushTextTrack(track);\n        }\n      });\n      return textTracks;\n    }\n  }, {\n    key: '_parseVideoTracks',\n    value: function _parseVideoTracks(castVideoTracks) {\n      var videoTracks = [];\n      castVideoTracks.forEach(function (track) {\n        var settings = {\n          id: track.trackId,\n          index: track.trackId - 1,\n          label: track.name,\n          language: track.language,\n          active: false\n        };\n        videoTracks.push(new VideoTrack(settings));\n      });\n      return videoTracks;\n    }\n  }, {\n    key: '_parseAudioTracks',\n    value: function _parseAudioTracks(castAudioTracks) {\n      var audioTracks = [];\n      castAudioTracks.forEach(function (track) {\n        var settings = {\n          id: track.trackId,\n          index: track.trackId - 1,\n          label: track.name,\n          language: track.language,\n          active: false\n        };\n        audioTracks.push(new AudioTrack(settings));\n      });\n      return audioTracks;\n    }\n  }, {\n    key: '_selectVideoTrack',\n    value: function _selectVideoTrack(track) {\n      var _this3 = this;\n\n      this._stopOnMediaStatusUpdateInterval();\n      var currentTrack = this.getActiveTracks().video;\n      this._selectTrack(track, currentTrack, function () {\n        _this3.dispatchEvent(new FakeEvent(EventType.VIDEO_TRACK_CHANGED, { selectedVideoTrack: track }));\n        _this3._startOnMediaStatusUpdateInterval();\n      }, function (error) {\n        _this3.dispatchEvent(new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.EDIT_TRACKS_INFO_ERROR, error)));\n      });\n    }\n  }, {\n    key: '_selectAudioTrack',\n    value: function _selectAudioTrack(track) {\n      var _this4 = this;\n\n      this._stopOnMediaStatusUpdateInterval();\n      var currentTrack = this.getActiveTracks().audio;\n      this._selectTrack(track, currentTrack, function () {\n        _this4.dispatchEvent(new FakeEvent(EventType.AUDIO_TRACK_CHANGED, { selectedAudioTrack: track }));\n        _this4._startOnMediaStatusUpdateInterval();\n      }, function (error) {\n        _this4.dispatchEvent(new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.CAST_EDIT_TRACKS_INFO_ERROR, error)));\n      });\n    }\n  }, {\n    key: '_selectTextTrack',\n    value: function _selectTextTrack(track) {\n      var _this5 = this;\n\n      this._stopOnMediaStatusUpdateInterval();\n      var currentTrack = this.getActiveTracks().text;\n      this._selectTrack(track, currentTrack, function () {\n        _this5.dispatchEvent(new FakeEvent(EventType.TEXT_TRACK_CHANGED, { selectedTextTrack: track }));\n        _this5._startOnMediaStatusUpdateInterval();\n      }, function (error) {\n        _this5.dispatchEvent(new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.EDIT_TRACKS_INFO_ERROR, error)));\n      });\n    }\n  }, {\n    key: '_selectTrack',\n    value: function _selectTrack(newTrack, currentTrack, onSuccess, onFailed) {\n      var _this6 = this;\n\n      this._logger.debug('Select track', newTrack, currentTrack, this._activeTrackIds);\n      if (currentTrack) {\n        var index = this._activeTrackIds.indexOf(currentTrack.id);\n        if (index > -1) {\n          this._activeTrackIds.splice(index, 1);\n        }\n      }\n      if (newTrack.id && newTrack.language !== 'off') {\n        this._activeTrackIds.push(newTrack.id);\n      }\n      var tracksInfoRequest = new chrome.cast.media.EditTracksInfoRequest(this._activeTrackIds);\n      var mediaSession = this._castSession.getMediaSession();\n      mediaSession.editTracksInfo(tracksInfoRequest, function () {\n        _this6._logger.debug('Select track succeeded');\n        _this6._markActiveTrack(currentTrack, false);\n        _this6._markActiveTrack(newTrack, true);\n        onSuccess();\n      }, function (e) {\n        _this6._logger.debug('Select track failed', e);\n        onFailed(e);\n      });\n    }\n  }, {\n    key: '_markActiveTrack',\n    value: function _markActiveTrack(track, active) {\n      if (track) {\n        var id = track.id,\n            language = track.language;\n\n        var origTrack = this._tracks.find(function (t) {\n          return t.id === id || t.language === language && language === 'off';\n        });\n        if (origTrack) {\n          origTrack.active = active;\n        }\n      }\n    }\n  }, {\n    key: '_addTextTrackOffOption',\n    value: function _addTextTrackOffOption() {\n      var textTracks = this._getTracksByType(TrackType.TEXT);\n      if (textTracks && textTracks.length) {\n        this._tracks.push(new TextTrack({\n          active: true,\n          index: textTracks.length,\n          kind: 'subtitles',\n          label: 'Off',\n          language: 'off'\n        }));\n      }\n    }\n  }, {\n    key: '_getTracksByType',\n    value: function _getTracksByType(type) {\n      return !type ? this._tracks : this._tracks.filter(function (track) {\n        if (type && TRACK_TYPE_TO_INSTANCE[type]) {\n          return track instanceof TRACK_TYPE_TO_INSTANCE[type];\n        }\n        return true;\n      });\n    }\n  }, {\n    key: '_onMediaStatusUpdate',\n    value: function _onMediaStatusUpdate() {\n      var _this7 = this;\n\n      var mediaSession = this._castSession.getMediaSession();\n      if (mediaSession) {\n        var isTextStyleChanged = function isTextStyleChanged() {\n          var localTextStyle = TextStyleConverter.toCastTextStyle(_this7.textStyle);\n          var remoteTextStyle = mediaSession.media.textTrackStyle;\n          if (remoteTextStyle) {\n            return !(localTextStyle.backgroundColor === remoteTextStyle.backgroundColor && localTextStyle.fontFamily === remoteTextStyle.fontFamily && localTextStyle.fontScale === remoteTextStyle.fontScale && localTextStyle.foregroundColor === remoteTextStyle.foregroundColor);\n          }\n          return false;\n        };\n        var isActiveTrackIdsChanged = function isActiveTrackIdsChanged() {\n          if (mediaSession.activeTrackIds) {\n            return !(_this7._activeTrackIds.length === mediaSession.activeTrackIds.length && _this7._activeTrackIds.every(function (value, index) {\n              return value === mediaSession.activeTrackIds[index];\n            }));\n          }\n          return false;\n        };\n        if (isActiveTrackIdsChanged()) {\n          var diffIds = mediaSession.activeTrackIds.filter(function (i) {\n            return !_this7._activeTrackIds.includes(i);\n          });\n          diffIds.forEach(function (id) {\n            var track = _this7._tracks.find(function (t) {\n              return t.id === id;\n            });\n            _this7.selectTrack(track);\n          });\n        }\n        if (isTextStyleChanged()) {\n          var style = TextStyleConverter.toPlayerTextStyle(mediaSession.media.textTrackStyle);\n          this._textStyle = style;\n          this.dispatchEvent(new FakeEvent(EventType.TEXT_STYLE_CHANGED, { textStyle: style }));\n        }\n      }\n    }\n  }, {\n    key: 'textStyle',\n    set: function set(style) {\n      var _this8 = this;\n\n      this._logger.debug('Setting text style', style);\n      var textTrackStyle = TextStyleConverter.toCastTextStyle(style);\n      var tracksInfoRequest = new chrome.cast.media.EditTracksInfoRequest(null, textTrackStyle);\n      var mediaSession = this._castSession.getMediaSession();\n      mediaSession.editTracksInfo(tracksInfoRequest, function () {\n        _this8._logger.debug('Setting text style succeed');\n        _this8._textStyle = style;\n        _this8.dispatchEvent(new FakeEvent(EventType.TEXT_STYLE_CHANGED, { textStyle: style }));\n      }, function (error) {\n        _this8._logger.debug('Setting text style failed', error);\n        _this8.dispatchEvent(new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.EDIT_TRACKS_INFO_ERROR, error)));\n      });\n    },\n    get: function get() {\n      return this._textStyle.clone();\n    }\n  }]);\n\n  return CastTracksManager;\n}(FakeEventTarget);\n\nexports.CastTracksManager = CastTracksManager;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastPlaybackEngine = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nvar _castPlayer = __webpack_require__(1);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventType = _kalturaPlayerJs.core.EventType,\n    FakeEvent = _kalturaPlayerJs.core.FakeEvent,\n    FakeEventTarget = _kalturaPlayerJs.core.FakeEventTarget;\n\nvar CastPlaybackEngine = function (_FakeEventTarget) {\n  _inherits(CastPlaybackEngine, _FakeEventTarget);\n\n  function CastPlaybackEngine(remotePlayer, remotePlayerController) {\n    _classCallCheck(this, CastPlaybackEngine);\n\n    var _this = _possibleConstructorReturn(this, (CastPlaybackEngine.__proto__ || Object.getPrototypeOf(CastPlaybackEngine)).call(this));\n\n    _this._muted = false;\n    _this._volume = 1;\n    _this._paused = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._seeking = false;\n\n    _this._remotePlayer = remotePlayer;\n    _this._remotePlayerController = remotePlayerController;\n    _this._bindEvents();\n    _this._toggleListeners(true);\n    return _this;\n  }\n\n  _createClass(CastPlaybackEngine, [{\n    key: 'reset',\n    value: function reset() {\n      this._toggleListeners(false);\n      clearInterval(this._liveCurrentTimeIntervalId);\n      this._resetFlags();\n      this._toggleListeners(true);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      clearInterval(this._liveCurrentTimeIntervalId);\n      this._toggleListeners(false);\n      this._muted = false;\n      this._volume = 1;\n      this._resetFlags();\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this._remotePlayerController.playOrPause();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this._remotePlayer.canPause) {\n        this._remotePlayerController.playOrPause();\n      }\n    }\n  }, {\n    key: '_resetFlags',\n    value: function _resetFlags() {\n      this._paused = false;\n      this._currentTime = 0;\n      this._duration = 0;\n      this._seeking = false;\n    }\n  }, {\n    key: '_bindEvents',\n    value: function _bindEvents() {\n      this._onCurrentTimeChanged = this._onCurrentTimeChanged.bind(this);\n      this._onIsPausedChanged = this._onIsPausedChanged.bind(this);\n      this._onDurationChanged = this._onDurationChanged.bind(this);\n      this._onVolumeLevelChanged = this._onVolumeLevelChanged.bind(this);\n      this._onIsMutedChanged = this._onIsMutedChanged.bind(this);\n      this._onIsMediaLoadedChanged = this._onIsMediaLoadedChanged.bind(this);\n      this._onLiveCurrentTimeChanged = this._onLiveCurrentTimeChanged.bind(this);\n    }\n  }, {\n    key: '_toggleListeners',\n    value: function _toggleListeners(listen) {\n      var _listeners,\n          _this2 = this;\n\n      var listeners = (_listeners = {}, _defineProperty(_listeners, cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED, this._onIsMediaLoadedChanged), _defineProperty(_listeners, cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED, this._onIsPausedChanged), _defineProperty(_listeners, cast.framework.RemotePlayerEventType.DURATION_CHANGED, this._onDurationChanged), _defineProperty(_listeners, cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, this._onVolumeLevelChanged), _defineProperty(_listeners, cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED, this._onIsMutedChanged), _listeners);\n      if (listen) {\n        Object.keys(listeners).forEach(function (e) {\n          return _this2._remotePlayerController.addEventListener(e, listeners[e]);\n        });\n      } else {\n        Object.keys(listeners).forEach(function (e) {\n          return _this2._remotePlayerController.removeEventListener(e, listeners[e]);\n        });\n        this._remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED, this._onCurrentTimeChanged);\n      }\n    }\n  }, {\n    key: '_onIsMediaLoadedChanged',\n    value: function _onIsMediaLoadedChanged(isMediaLoadedEvent) {\n      var _this3 = this;\n\n      var onMediaInfoChanged = function onMediaInfoChanged() {\n        _this3._remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED, onMediaInfoChanged);\n        if (_this3._remotePlayer.mediaInfo.streamType === chrome.cast.media.StreamType.LIVE) {\n          _this3._mediaSession = cast.framework.CastContext.getInstance().getCurrentSession().getMediaSession();\n          _this3._liveCurrentTimeIntervalId = setInterval(_this3._onLiveCurrentTimeChanged, _castPlayer.INTERVAL_FREQUENCY);\n        } else {\n          _this3._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED, _this3._onCurrentTimeChanged);\n        }\n      };\n      if (isMediaLoadedEvent.value) {\n        this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED, onMediaInfoChanged);\n      }\n    }\n  }, {\n    key: '_onCurrentTimeChanged',\n    value: function _onCurrentTimeChanged() {\n      this._currentTime = this._remotePlayer.currentTime;\n      this._maybeDispatchTimeUpdate();\n      this._maybeEndPlayback();\n    }\n  }, {\n    key: '_onLiveCurrentTimeChanged',\n    value: function _onLiveCurrentTimeChanged() {\n      this._currentTime = this._mediaSession.currentTime;\n      this._maybeDispatchTimeUpdate();\n      this._maybeEndLivePlayback();\n    }\n  }, {\n    key: '_onIsPausedChanged',\n    value: function _onIsPausedChanged() {\n      this._paused = this._remotePlayer.isPaused;\n      if (this._paused) {\n        this.dispatchEvent(new FakeEvent(EventType.PAUSE));\n      } else {\n        this.dispatchEvent(new FakeEvent(EventType.PLAY));\n      }\n    }\n  }, {\n    key: '_onDurationChanged',\n    value: function _onDurationChanged() {\n      this._duration = this._remotePlayer.duration;\n      this.dispatchEvent(new FakeEvent(EventType.DURATION_CHANGE));\n    }\n  }, {\n    key: '_onVolumeLevelChanged',\n    value: function _onVolumeLevelChanged() {\n      this._volume = this._remotePlayer.volumeLevel;\n      this.dispatchEvent(new FakeEvent(EventType.VOLUME_CHANGE));\n    }\n  }, {\n    key: '_onIsMutedChanged',\n    value: function _onIsMutedChanged() {\n      this._muted = this._remotePlayer.isMuted;\n      this.dispatchEvent(new FakeEvent(EventType.MUTE_CHANGE, { mute: this.muted }));\n    }\n  }, {\n    key: '_maybeDispatchTimeUpdate',\n    value: function _maybeDispatchTimeUpdate() {\n      if (!this._seeking) {\n        this.dispatchEvent(new FakeEvent(EventType.TIME_UPDATE));\n      } else if (this._seekTargetTime && (this._seekForward && this.currentTime >= this._seekTargetTime || !this._seekForward && this.currentTime <= this._seekTargetTime)) {\n        this._seeking = false;\n        this._seekTargetTime = null;\n        this.dispatchEvent(new FakeEvent(EventType.SEEKED));\n        this.dispatchEvent(new FakeEvent(EventType.TIME_UPDATE));\n      }\n    }\n  }, {\n    key: '_maybeEndPlayback',\n    value: function _maybeEndPlayback() {\n      var delta = Math.round(this._duration - this._currentTime);\n      if (this._currentTime !== 0 && this._duration !== 0 && delta <= 1) {\n        this._currentTime = this._duration;\n        this._paused = true;\n        this.dispatchEvent(new FakeEvent(EventType.ENDED));\n      }\n    }\n  }, {\n    key: '_maybeEndLivePlayback',\n    value: function _maybeEndLivePlayback() {\n      var range = this._mediaSession.liveSeekableRange;\n      if (range && range.isLiveDone) {\n        this._paused = true;\n        this.dispatchEvent(new FakeEvent(EventType.ENDED));\n      }\n    }\n  }, {\n    key: 'muted',\n    set: function set(value) {\n      if (value && !this.muted || !value && this.muted) {\n        this._remotePlayerController.muteOrUnmute();\n      }\n    },\n    get: function get() {\n      return this._muted;\n    }\n  }, {\n    key: 'volume',\n    set: function set(value) {\n      if (this._remotePlayer.canControlVolume) {\n        this._remotePlayer.volumeLevel = value;\n        this._remotePlayerController.setVolumeLevel();\n      }\n    },\n    get: function get() {\n      return this._volume;\n    }\n  }, {\n    key: 'currentTime',\n    set: function set(value) {\n      if (this._remotePlayer.canSeek) {\n        this._seeking = true;\n        this.dispatchEvent(new FakeEvent(EventType.SEEKING));\n        this._remotePlayer.currentTime = this._seekTargetTime = value;\n        this._seekForward = value > this.currentTime;\n        this._remotePlayerController.seek();\n      }\n    },\n    get: function get() {\n      if (this._remotePlayer.savedPlayerState) {\n        return this._remotePlayer.savedPlayerState.currentTime;\n      }\n      return this._currentTime;\n    }\n  }, {\n    key: 'duration',\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: 'paused',\n    get: function get() {\n      if (this._remotePlayer.savedPlayerState) {\n        return this._remotePlayer.savedPlayerState.isPaused;\n      }\n      return this._paused;\n    }\n  }, {\n    key: 'seeking',\n    get: function get() {\n      return this._seeking;\n    }\n  }]);\n\n  return CastPlaybackEngine;\n}(FakeEventTarget);\n\nexports.CastPlaybackEngine = CastPlaybackEngine;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastUI = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// eslint-disable-next-line no-unused-vars\nvar style = _kalturaPlayerJs.ui.style,\n    Components = _kalturaPlayerJs.ui.Components;\nvar RemotePlayerUI = _kalturaPlayerJs.cast.RemotePlayerUI;\n\nvar CastUI = function (_RemotePlayerUI) {\n  _inherits(CastUI, _RemotePlayerUI);\n\n  function CastUI() {\n    _classCallCheck(this, CastUI);\n\n    return _possibleConstructorReturn(this, (CastUI.__proto__ || Object.getPrototypeOf(CastUI)).apply(this, arguments));\n  }\n\n  _createClass(CastUI, [{\n    key: \"playbackUI\",\n    value: function playbackUI(props) {\n      return _kalturaPlayerJs.ui.h(\n        \"div\",\n        { className: style.playbackGuiWrapper },\n        _kalturaPlayerJs.ui.h(Components.KeyboardControl, { player: props.player, config: props.config }),\n        _kalturaPlayerJs.ui.h(Components.Loading, { player: props.player }),\n        _kalturaPlayerJs.ui.h(\n          \"div\",\n          { className: style.playerGui, id: \"player-gui\" },\n          _kalturaPlayerJs.ui.h(Components.OverlayPortal, null),\n          _kalturaPlayerJs.ui.h(\n            Components.BottomBar,\n            null,\n            _kalturaPlayerJs.ui.h(Components.SeekBarPlaybackContainer, { showFramePreview: true, showTimeBubble: true, player: props.player, playerContainer: props.playerContainer }),\n            _kalturaPlayerJs.ui.h(\n              \"div\",\n              { className: style.leftControls },\n              _kalturaPlayerJs.ui.h(Components.PlaybackControls, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.RewindControl, { player: props.player, step: 10 }),\n              _kalturaPlayerJs.ui.h(Components.ForwardControl, { player: props.player, step: 10 }),\n              _kalturaPlayerJs.ui.h(Components.TimeDisplayPlaybackContainer, { format: \"current / total\" })\n            ),\n            _kalturaPlayerJs.ui.h(\n              \"div\",\n              { className: style.rightControls },\n              _kalturaPlayerJs.ui.h(Components.VolumeControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.LanguageControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.CastControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.FullscreenControl, { player: props.player })\n            )\n          ),\n          _kalturaPlayerJs.ui.h(Components.CastOverlay, { player: props.player }),\n          _kalturaPlayerJs.ui.h(Components.OverlayAction, { player: props.player }),\n          _kalturaPlayerJs.ui.h(Components.PlaybackControls, { player: props.player })\n        ),\n        _kalturaPlayerJs.ui.h(Components.PrePlaybackPlayOverlay, { player: props.player }),\n        _kalturaPlayerJs.ui.h(Components.CastAfterPlay, { player: props.player })\n      );\n    }\n  }, {\n    key: \"liveUI\",\n    value: function liveUI(props) {\n      return _kalturaPlayerJs.ui.h(\n        \"div\",\n        { className: style.playbackGuiWrapper },\n        _kalturaPlayerJs.ui.h(Components.KeyboardControl, { player: props.player, config: props.config }),\n        _kalturaPlayerJs.ui.h(Components.Loading, { player: props.player }),\n        _kalturaPlayerJs.ui.h(\n          \"div\",\n          { className: style.playerGui, id: \"player-gui\" },\n          _kalturaPlayerJs.ui.h(Components.OverlayPortal, null),\n          _kalturaPlayerJs.ui.h(\n            Components.BottomBar,\n            null,\n            _kalturaPlayerJs.ui.h(Components.SeekBarLivePlaybackContainer, { showFramePreview: true, showTimeBubble: true, player: props.player, playerContainer: props.playerContainer }),\n            _kalturaPlayerJs.ui.h(\n              \"div\",\n              { className: style.leftControls },\n              _kalturaPlayerJs.ui.h(Components.PlaybackControls, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.LiveTag, { player: props.player })\n            ),\n            _kalturaPlayerJs.ui.h(\n              \"div\",\n              { className: style.rightControls },\n              _kalturaPlayerJs.ui.h(Components.VolumeControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.LanguageControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.CastControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.FullscreenControl, { player: props.player })\n            )\n          ),\n          _kalturaPlayerJs.ui.h(Components.CastOverlay, { player: props.player }),\n          _kalturaPlayerJs.ui.h(Components.OverlayAction, { player: props.player }),\n          _kalturaPlayerJs.ui.h(Components.PlaybackControls, { player: props.player })\n        ),\n        _kalturaPlayerJs.ui.h(Components.PrePlaybackPlayOverlay, { player: props.player }),\n        _kalturaPlayerJs.ui.h(Components.CastAfterPlay, { player: props.player })\n      );\n    }\n  }, {\n    key: \"idleUI\",\n    value: function idleUI(props) {\n      return _kalturaPlayerJs.ui.h(\n        \"div\",\n        { className: style.playbackGuiWrapper },\n        _kalturaPlayerJs.ui.h(Components.Loading, { player: props.player }),\n        _kalturaPlayerJs.ui.h(Components.CastOverlay, { player: props.player })\n      );\n    }\n  }, {\n    key: \"adsUI\",\n    value: function adsUI(props) {\n      return _kalturaPlayerJs.ui.h(\n        \"div\",\n        { className: style.adGuiWrapper },\n        _kalturaPlayerJs.ui.h(Components.KeyboardControl, { player: props.player, config: props.config }),\n        _kalturaPlayerJs.ui.h(Components.Loading, { player: props.player }),\n        _kalturaPlayerJs.ui.h(\n          \"div\",\n          { className: style.playerGui, id: \"player-gui\" },\n          _kalturaPlayerJs.ui.h(Components.CastOverlay, { player: props.player }),\n          _kalturaPlayerJs.ui.h(Components.OverlayAction, { player: props.player }),\n          _kalturaPlayerJs.ui.h(\n            \"div\",\n            null,\n            _kalturaPlayerJs.ui.h(\n              Components.TopBar,\n              null,\n              _kalturaPlayerJs.ui.h(\n                \"div\",\n                { className: style.leftControls },\n                _kalturaPlayerJs.ui.h(Components.AdNotice, null)\n              ),\n              _kalturaPlayerJs.ui.h(\n                \"div\",\n                { className: style.rightControls },\n                _kalturaPlayerJs.ui.h(Components.AdLearnMore, null)\n              )\n            ),\n            _kalturaPlayerJs.ui.h(Components.AdSkip, { player: props.player })\n          ),\n          _kalturaPlayerJs.ui.h(\n            Components.BottomBar,\n            null,\n            _kalturaPlayerJs.ui.h(\n              \"div\",\n              { className: style.leftControls },\n              _kalturaPlayerJs.ui.h(Components.PlaybackControls, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.TimeDisplayAdsContainer, null)\n            ),\n            _kalturaPlayerJs.ui.h(\n              \"div\",\n              { className: style.rightControls },\n              _kalturaPlayerJs.ui.h(Components.VolumeControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.CastControl, { player: props.player }),\n              _kalturaPlayerJs.ui.h(Components.FullscreenControl, { player: props.player })\n            )\n          ),\n          _kalturaPlayerJs.ui.h(Components.PlaybackControls, { player: props.player })\n        )\n      );\n    }\n  }]);\n\n  return CastUI;\n}(RemotePlayerUI);\n\nexports.CastUI = CastUI;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastLoader = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Utils = _kalturaPlayerJs.core.Utils,\n    getLogger = _kalturaPlayerJs.core.getLogger;\n\n\nvar SENDER_SDK_URL = '//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1';\n\nvar CastLoader = function () {\n  function CastLoader() {\n    _classCallCheck(this, CastLoader);\n  }\n\n  _createClass(CastLoader, null, [{\n    key: 'load',\n    value: function load() {\n      return new Promise(function (resolve, reject) {\n        window['__onGCastApiAvailable'] = function (isAvailable) {\n          return CastLoader._onGCastApiAvailable(isAvailable, resolve);\n        };\n        CastLoader._loadCastSDK().then(function () {\n          return CastLoader._logger.debug('Cast sender lib has been loaded successfully');\n        }).catch(function (e) {\n          CastLoader._logger.debug('Cast sender lib loading failed', e);\n          reject(e);\n        });\n      });\n    }\n  }, {\n    key: '_loadCastSDK',\n    value: function _loadCastSDK() {\n      if (window['cast'] && window['cast']['framework']) {\n        return Promise.resolve();\n      }\n      return Utils.Dom.loadScriptAsync(SENDER_SDK_URL);\n    }\n  }, {\n    key: '_onGCastApiAvailable',\n    value: function _onGCastApiAvailable(isAvailable, resolve) {\n      CastLoader._logger.debug('onGCastApiAvailable, isAvailable: ' + isAvailable.toString());\n      if (isAvailable) {\n        resolve();\n      } else {\n        CastLoader._logger.debug('Google cast API isn\\'t available yet');\n      }\n    }\n  }]);\n\n  return CastLoader;\n}();\n\nCastLoader._logger = getLogger('CastLoader');\nexports.CastLoader = CastLoader;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastAdsController = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _castPlayer = __webpack_require__(1);\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CustomActionMessage = _kalturaPlayerJs.cast.CustomActionMessage,\n    CustomActionType = _kalturaPlayerJs.cast.CustomActionType;\n\n/**\n * Cast Ads Controller.\n * @class CastAdsController\n */\n\nvar CastAdsController = function () {\n  function CastAdsController() {\n    _classCallCheck(this, CastAdsController);\n\n    this._castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n  }\n\n  /**\n   * Skips on an ad.\n   * @returns {void}\n   * @memberof CastAdsController\n   * @instance\n   */\n\n\n  _createClass(CastAdsController, [{\n    key: 'skipAd',\n    value: function skipAd() {\n      this._castSession.sendMessage(_castPlayer.CUSTOM_CHANNEL, new CustomActionMessage(CustomActionType.SKIP_AD));\n    }\n  }]);\n\n  return CastAdsController;\n}();\n\nexports.CastAdsController = CastAdsController;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CastAdsManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _castPlayer = __webpack_require__(1);\n\nvar _kalturaPlayerJs = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventManager = _kalturaPlayerJs.core.EventManager,\n    EventType = _kalturaPlayerJs.core.EventType,\n    FakeEventTarget = _kalturaPlayerJs.core.FakeEventTarget;\n\nvar CastAdsManager = function (_FakeEventTarget) {\n  _inherits(CastAdsManager, _FakeEventTarget);\n\n  function CastAdsManager(castPlayer) {\n    _classCallCheck(this, CastAdsManager);\n\n    var _this = _possibleConstructorReturn(this, (CastAdsManager.__proto__ || Object.getPrototypeOf(CastAdsManager)).call(this));\n\n    _this._adBreak = false;\n    _this._allAdsCompleted = true;\n\n    _this._castPlayer = castPlayer;\n    _this._eventManager = new EventManager();\n    _this._attachListeners();\n    return _this;\n  }\n\n  _createClass(CastAdsManager, [{\n    key: '_attachListeners',\n    value: function _attachListeners() {\n      var _this2 = this;\n\n      this._eventManager.listen(this._castPlayer, EventType.AD_MANIFEST_LOADED, function () {\n        _this2._allAdsCompleted = false;\n      });\n\n      this._eventManager.listen(this._castPlayer, EventType.AD_BREAK_START, function () {\n        _this2._adBreak = true;\n      });\n\n      this._eventManager.listen(this._castPlayer, EventType.AD_BREAK_END, function () {\n        _this2._adBreak = false;\n      });\n\n      this._eventManager.listen(this._castPlayer, EventType.ALL_ADS_COMPLETED, function () {\n        _this2._allAdsCompleted = true;\n      });\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this._eventManager.removeAll();\n      this._adBreak = false;\n      this._allAdsCompleted = true;\n      this._attachListeners();\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._adBreak = false;\n      this._allAdsCompleted = true;\n      this._eventManager.destroy();\n    }\n  }, {\n    key: 'adBreak',\n    get: function get() {\n      return this._adBreak;\n    }\n  }, {\n    key: 'allAdsCompleted',\n    get: function get() {\n      return this._allAdsCompleted;\n    }\n  }]);\n\n  return CastAdsManager;\n}(FakeEventTarget);\n\nexports.CastAdsManager = CastAdsManager;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// playkit-cast-sender.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd1475ceb0d9e0f59f5e","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"kaltura-player-js\",\"commonjs2\":\"kaltura-player-js\",\"amd\":\"kaltura-player-js\",\"root\":[\"KalturaPlayer\"]}\n// module id = 0\n// module chunks = 0","// @flow\nimport {cast as remote, core} from 'kaltura-player-js';\nimport {CastStateManager} from './cast-state-manager';\nimport {CastTracksManager} from './cast-tracks-manager';\nimport {CastPlaybackEngine} from './cast-playback-engine';\nimport {CastUI} from './cast-ui';\nimport {CastLoader} from './cast-loader';\nimport {CastAdsController} from './cast-ads-controller';\nimport {CastAdsManager} from './cast-ads-manager';\n\nconst {Env, Track, TextStyle, EventType, StateType, FakeEvent, Utils, EngineType, AbrMode, Error} = core;\nconst {\n  BaseRemotePlayer,\n  PlayerSnapshot,\n  RemoteControl,\n  RemoteConnectedPayload,\n  RemoteDisconnectedPayload,\n  RemoteAvailablePayload,\n  RemoteSession,\n  TextStyleConverter,\n  CustomMessageType,\n  CustomMessage,\n  CustomEventMessage\n} = remote;\n\nexport const INTERVAL_FREQUENCY = 500;\nexport const SECONDS_TO_MINUTES_DIVIDER = 60;\nexport const CUSTOM_CHANNEL = 'urn:x-cast:com.kaltura.cast.playkit';\n\n/**\n * The threshold in seconds from duration that we still consider it as live edge\n * @type {number}\n * @const\n */\nconst LIVE_EDGE_THRESHOLD: number = 10;\n\n/**\n * Cast Sender Player.\n * @class CastPlayer\n * @param {CastConfigObject} config - The cast configuration.\n * @param {RemoteControl} remoteControl - The remote control.\n * @extends BaseRemotePlayer\n */\nclass CastPlayer extends BaseRemotePlayer {\n  /**\n   * The remote player type.\n   * @static\n   * @type {string}\n   * @memberof CastPlayer\n   * @override\n   */\n  static Type: string = 'chromecast';\n\n  /**\n   * @function isSupported\n   * @static\n   * @returns {boolean} - Whether the cast player is supported in the current runtime environment.\n   * @memberof CastPlayer\n   * @override\n   */\n  static isSupported(): boolean {\n    return Env.browser.name === 'Chrome' && Env.os.name !== 'iOS';\n  }\n\n  /**\n   * The default cast configuration.\n   * @static\n   * @type {Object}\n   * @memberof CastPlayer\n   * @override\n   */\n  static defaultConfig: Object = {\n    liveEdgeThreshold: 5\n  };\n\n  _remoteSession: RemoteSession;\n  _castSession: Object;\n  _castContext: Object;\n  _castRemotePlayer: Object;\n  _castRemotePlayerController: Object;\n  _ui: CastUI;\n  _stateManager: CastStateManager;\n  _tracksManager: CastTracksManager;\n  _engine: CastPlaybackEngine;\n  _readyPromise: ?Promise<*> = null;\n  _mediaInfo: ?Object = null;\n  _firstPlay: boolean = true;\n  _ended: boolean = false;\n  _playbackStarted: boolean = false;\n  _reset: boolean = true;\n  _destroyed: boolean = false;\n  _isOnLiveEdge: boolean = false;\n  _mediaInfoIntervalId: number;\n  _adsController: CastAdsController;\n  _adsManager: CastAdsManager;\n\n  constructor(castConfig: CastConfigObject, remoteControl: RemoteControl) {\n    super('CastPlayer', castConfig, remoteControl);\n    CastLoader.load()\n      .then(() => {\n        this._initializeCastApi();\n        this._initializeRemotePlayer();\n      })\n      .catch(e => {\n        this._logger.error('Cast initialized error', e);\n      });\n  }\n\n  /**\n   * Loads a media to the receiver application.\n   * @param {ProviderMediaInfoObject} mediaInfo - The entry media info.\n   * @param {Object} [options] - The request options. See {@link https://developers.google.com/cast/docs/reference/chrome/chrome.cast.media.LoadRequest|chrome.cast.media.LoadRequest}\n   * @returns {Promise<void>} - Promise to indicate load succeed or failed.\n   * @instance\n   * @memberof CastPlayer\n   */\n  loadMedia(mediaInfo: Object, options?: Object): Promise<*> {\n    this._logger.debug('Load media', mediaInfo, options);\n    this._mediaInfo = mediaInfo;\n    return this._castMedia({mediaInfo}, options);\n  }\n\n  /**\n   * Set a media to the receiver application.\n   * @param {ProviderMediaConfigObject} mediaConfig - The entry media config.\n   * @param {Object} [options] - The request options. See {@link https://developers.google.com/cast/docs/reference/chrome/chrome.cast.media.LoadRequest|chrome.cast.media.LoadRequest}\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  setMedia(mediaConfig: Object, options?: Object): void {\n    this._logger.debug('Set media', mediaConfig, options);\n    this._castMedia({mediaConfig}, options);\n  }\n\n  /**\n   * Gets the media Info.\n   * @returns {ProviderMediaInfoObject} - The media info.\n   * @instance\n   * @memberof CastPlayer\n   */\n  getMediaInfo(): ?Object {\n    return Utils.Object.copyDeep(this._mediaInfo);\n  }\n\n  /**\n   * Gets the media config.\n   * @returns {ProviderMediaConfigObject} - The media config.\n   * @instance\n   * @memberof CastPlayer\n   */\n  getMediaConfig(): ?Object {\n    const mediaConfig = {\n      sources: this._playerConfig.sources,\n      plugins: this._playerConfig.plugins\n    };\n    return Utils.Object.copyDeep(mediaConfig);\n  }\n\n  /**\n   * The cast player readiness.\n   * @returns {Promise<*>} - Promise which resolved when the cast player is ready.\n   * @instance\n   * @memberof CastPlayer\n   */\n  ready(): Promise<*> {\n    return this._readyPromise ? this._readyPromise : Promise.resolve();\n  }\n\n  /**\n   * Start/resume playback.\n   * @instance\n   * @returns {void}\n   * @memberof CastPlayer\n   */\n  play(): void {\n    if (!this.ended || this._adsManager.adBreak) {\n      this._engine.play();\n    } else {\n      this._loadOrSetMedia({\n        mediaInfo: this._mediaInfo,\n        mediaConfig: this.getMediaConfig()\n      });\n    }\n  }\n\n  /**\n   * Pause playback.\n   * @instance\n   * @returns {void}\n   * @memberof CastPlayer\n   */\n  pause(): void {\n    this._engine.pause();\n  }\n\n  /**\n   * Stops and reset the cast player.\n   * @instance\n   * @returns {void}\n   * @memberof CastPlayer\n   */\n  reset(): void {\n    clearInterval(this._mediaInfoIntervalId);\n    if (this._reset) return;\n    this._reset = true;\n    this._firstPlay = true;\n    this._ended = false;\n    this._isOnLiveEdge = false;\n    this._tracksManager.reset();\n    this._engine.reset();\n    this._adsManager.reset();\n    this._stateManager.reset();\n    this._readyPromise = this._createReadyPromise();\n    this.dispatchEvent(new FakeEvent(EventType.PLAYER_RESET));\n  }\n\n  /**\n   * Destroys the cast player.\n   * @instance\n   * @returns {void}\n   * @memberof CastPlayer\n   */\n  destroy(): void {\n    clearInterval(this._mediaInfoIntervalId);\n    if (this._destroyed) return;\n    this._destroyed = true;\n    this._firstPlay = true;\n    this._ended = false;\n    this._isOnLiveEdge = false;\n    this._readyPromise = null;\n    this._eventManager.destroy();\n    this._tracksManager.destroy();\n    this._engine.destroy();\n    this._adsManager.destroy();\n    this._stateManager.destroy();\n    this.dispatchEvent(new FakeEvent(EventType.PLAYER_DESTROY));\n  }\n\n  /**\n   * @returns {boolean} - Whether the current playback is a live playback.\n   * @instance\n   * @memberof CastPlayer\n   */\n  isLive(): boolean {\n    const mediaInfo = this._castRemotePlayer.mediaInfo;\n    return mediaInfo ? mediaInfo.streamType === chrome.cast.media.StreamType.LIVE : false;\n  }\n\n  /**\n   * Get whether the video is seeked to live edge in dvr\n   * @returns {boolean} - Whether the video is seeked to live edge in dvr\n   * @public\n   */\n  isOnLiveEdge(): boolean {\n    return this._isOnLiveEdge;\n  }\n\n  /**\n   * @returns {boolean} - Whether the current live playback has DVR window. In case of non-live playback will return false.\n   * @instance\n   * @memberof CastPlayer\n   */\n  isDvr(): boolean {\n    if (this.isLive()) {\n      const mediaSession = this._castSession.getMediaSession();\n      if (mediaSession) {\n        const range = mediaSession.liveSeekableRange;\n        if (range) {\n          const startMinutes = range.start / SECONDS_TO_MINUTES_DIVIDER;\n          const endMinutes = range.end / SECONDS_TO_MINUTES_DIVIDER;\n          return endMinutes - startMinutes > this._castConfig.liveEdgeThreshold;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Seeks to the live edge.\n   * @instance\n   * @returns {void}\n   * @memberof CastPlayer\n   */\n  seekToLiveEdge(): void {\n    const mediaSession = this._castSession.getMediaSession();\n    if (mediaSession) {\n      const range = mediaSession.liveSeekableRange;\n      if (range) {\n        this._engine.currentTime = range.end;\n      }\n    }\n  }\n\n  /**\n   * @returns {number} - The start time of the DVR window.\n   * @instance\n   * @memberof CastPlayer\n   */\n  getStartTimeOfDvrWindow(): number {\n    const mediaSession = this._castSession.getMediaSession();\n    if (mediaSession) {\n      const range = mediaSession.liveSeekableRange;\n      if (range) {\n        return range.start;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * @function enableAdaptiveBitrate\n   * @description Enables automatic adaptive bitrate switching.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n\n  /**\n   * @function isAdaptiveBitrateEnabled\n   * @returns {boolean} - Whether adaptive bitrate is enabled.\n   * @instance\n   * @memberof CastPlayer\n   */\n\n  /**\n   * @param {string} [type] - Track type.\n   * @returns {Array<Track>} - The cast player tracks.\n   * @instance\n   * @memberof CastPlayer\n   */\n  getTracks(type?: string): Array<Track> {\n    return this._tracksManager.getTracks(type);\n  }\n\n  /**\n   * @returns {Object} - The cast player active tracks.\n   * @instance\n   * @memberof CastPlayer\n   */\n  getActiveTracks(): Object {\n    return this._tracksManager.getActiveTracks();\n  }\n\n  /**\n   * Select a certain track to be active.\n   * @param {Track} track - The track to activate.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  selectTrack(track: ?Track): void {\n    this._tracksManager.selectTrack(track);\n  }\n\n  /**\n   * Hides the active text track.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  hideTextTrack(): void {\n    this._tracksManager.hideTextTrack();\n  }\n\n  /**\n   * Start casting.\n   * @returns {Promise<*>} - A promise to indicate session is starting, or failed\n   * @instance\n   * @memberof CastPlayer\n   */\n  startCasting(): Promise<*> {\n    return cast && cast.framework ? cast.framework.CastContext.getInstance().requestSession() : Promise.reject();\n  }\n\n  /**\n   * @returns {boolean} - Whether casting is available.\n   * @instance\n   * @memberof CastPlayer\n   */\n  isCastAvailable(): boolean {\n    return !!this._castRemotePlayer;\n  }\n\n  /**\n   * Stops the current cast session.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  stopCasting(): void {\n    this._castSession.endSession(true);\n  }\n\n  /**\n   * Gets the current remote session.\n   * @returns {RemoteSession} - The remote session.\n   * @instance\n   * @memberof CastPlayer\n   */\n  getCastSession(): RemoteSession {\n    return Utils.Object.copyDeep(this._remoteSession);\n  }\n\n  /**\n   * @return {CastAdsController} - The cast ads controller.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get ads(): ?CastAdsController {\n    return this._adsController;\n  }\n\n  /**\n   * Setter.\n   * @param {TextStyle} style - The text style to set.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  set textStyle(style: TextStyle): void {\n    this._tracksManager.textStyle = style;\n  }\n\n  /**\n   * Getter.\n   * @returns {TextStyle} - The current text style.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get textStyle(): ?TextStyle {\n    return this._tracksManager.textStyle;\n  }\n\n  /**\n   * Setter.\n   * @param {number} to - The number to set in seconds.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  set currentTime(to: number): void {\n    this._engine.currentTime = to;\n  }\n\n  /**\n   * Getter.\n   * @returns {number} - The current time in seconds.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get currentTime(): ?number {\n    return this._engine.currentTime;\n  }\n\n  /**\n   * @returns {number} - The duration in seconds.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get duration(): ?number {\n    return this._engine.duration;\n  }\n\n  /**\n   * Setter.\n   * @param {number} vol - The volume to set in the range of 0-1.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  set volume(vol: number): void {\n    this._engine.volume = vol;\n  }\n\n  /**\n   * Getter.\n   * @returns {number} - The current volume in the range of 0-1.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get volume(): ?number {\n    return this._engine.volume;\n  }\n\n  /**\n   * @returns {boolean} - Whether the cast player is in paused state.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get paused(): ?boolean {\n    return this._engine.paused;\n  }\n\n  /**\n   * @returns {boolean} - Whether the cast player is in ended state.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get ended(): ?boolean {\n    return this._ended;\n  }\n\n  /**\n   * @returns {boolean} - Whether the cast player is in seeking state.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get seeking(): ?boolean {\n    return this._engine.seeking;\n  }\n\n  /**\n   * Setter.\n   * @param {boolean} mute - The mute value to set.\n   * @returns {void}\n   * @instance\n   * @memberof CastPlayer\n   */\n  set muted(mute: boolean): void {\n    this._engine.muted = mute;\n  }\n\n  /**\n   * Getter.\n   * @returns {boolean} - The muted state.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get muted(): ?boolean {\n    return this._engine.muted;\n  }\n\n  /**\n   * @returns {string} - The current playing source url.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get src(): ?string {\n    if (this._castRemotePlayer.mediaInfo) {\n      return this._castRemotePlayer.mediaInfo.contentUrl;\n    }\n  }\n\n  /**\n   * @returns {string} - The current poster url.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get poster(): string {\n    try {\n      return this._castRemotePlayer.mediaInfo.metadata.images[0].url;\n    } catch (e) {\n      return '';\n    }\n  }\n\n  /**\n   * @returns {string} - The current playback rate.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get playbackRate(): ?number {\n    const mediaSession = this._castSession.getMediaSession();\n    if (mediaSession) {\n      return mediaSession.playbackRate;\n    }\n  }\n\n  /**\n   * @returns {string} - The active engine type.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get engineType(): ?string {\n    return EngineType.CAST;\n  }\n\n  /**\n   * @returns {string} - The remote player type.\n   * @instance\n   * @memberof CastPlayer\n   */\n  get type(): string {\n    return CastPlayer.Type;\n  }\n\n  /**\n   * @name config\n   * @returns {Object} - The runtime cast player config.\n   * @instance\n   * @memberof CastPlayer\n   */\n\n  _initializeCastApi(): void {\n    const options: Object = {};\n\n    options.receiverApplicationId = this._castConfig.receiverApplicationId || chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID;\n    options.autoJoinPolicy = this._castConfig.autoJoinPolicy || chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;\n\n    this._logger.debug('Init cast API with options', options);\n    const castContext = cast.framework.CastContext.getInstance();\n    castContext.setOptions(options);\n    castContext.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED, event => {\n      const payload = new RemoteAvailablePayload(this, event.castState !== cast.framework.CastState.NO_DEVICES_AVAILABLE);\n      this._remoteControl.onRemoteDeviceAvailable(payload);\n    });\n  }\n\n  _initializeRemotePlayer(): void {\n    this._castContext = cast.framework.CastContext.getInstance();\n    this._addSessionLifecycleListeners();\n    this._castRemotePlayer = new cast.framework.RemotePlayer();\n    this._castRemotePlayerController = new cast.framework.RemotePlayerController(this._castRemotePlayer);\n    this._castRemotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED, () => {\n      if (this._castRemotePlayer.isConnected) {\n        this._setupRemotePlayer();\n      } else {\n        this._setupLocalPlayer();\n      }\n    });\n  }\n\n  _setupRemotePlayer(): void {\n    this._logger.debug('Setup remote player');\n    this._castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n    this._castSession.addMessageListener(CUSTOM_CHANNEL, (customChannel, customMessage) => this._onCustomMessage(customChannel, customMessage));\n    this._tracksManager = new CastTracksManager(this._castRemotePlayer);\n    this._engine = new CastPlaybackEngine(this._castRemotePlayer, this._castRemotePlayerController);\n    this._stateManager = new CastStateManager(this._castRemotePlayer, this._castRemotePlayerController);\n    this._adsManager = new CastAdsManager(this);\n    this._ui = new CastUI();\n    this._attachListeners();\n    const snapshot = this._remoteControl.getPlayerSnapshot();\n    this._playerConfig = snapshot.config;\n    this._remoteSession = new RemoteSession(\n      this._castSession.getSessionId(),\n      this._castSession.getCastDevice().friendlyName,\n      this._castSession.getSessionState() !== cast.framework.SessionState.SESSION_STARTED\n    );\n    const payload = new RemoteConnectedPayload(this, this._remoteSession, this._ui);\n    this._remoteControl.onRemoteDeviceConnected(payload);\n    if (this._remoteSession.resuming && !(Env.browser.major >= 73 && Env.os.name === 'Android')) {\n      // Android Chrome 73 and up gets SESSION_RESUMED also in the initial session\n      this._resumeSession();\n    } else if (snapshot) {\n      const loadOptions = this._getLoadOptions(snapshot);\n      this._loadOrSetMedia(snapshot, loadOptions);\n    }\n  }\n\n  _loadOrSetMedia(mediaObject: Object, options?: Object): void {\n    const {mediaInfo, mediaConfig} = mediaObject;\n    if (mediaInfo) {\n      this.loadMedia(mediaInfo, options);\n    } else if (mediaConfig) {\n      this.setMedia({sources: mediaObject.mediaConfig.sources, plugins: {}}, options);\n    }\n  }\n\n  _castMedia(mediaObject: Object, options?: Object): Promise<*> {\n    this.reset();\n    this._remoteControl.getUIWrapper().reset();\n\n    if (this._playbackStarted) {\n      this.dispatchEvent(new FakeEvent(EventType.CHANGE_SOURCE_STARTED));\n    }\n    const media = new chrome.cast.media.MediaInfo();\n    const request = new chrome.cast.media.LoadRequest(media);\n\n    if (options) {\n      Object.keys(options).forEach(option => {\n        if (option !== 'media') {\n          // $FlowFixMe\n          request[option] = options[option];\n        } else {\n          // $FlowFixMe\n          Object.keys(options.media).forEach(mediaOption => {\n            // $FlowFixMe\n            media[mediaOption] = options.media[mediaOption];\n          });\n        }\n      });\n    }\n\n    media.customData = media.customData || {};\n    media.customData.mediaInfo = mediaObject.mediaInfo;\n    media.customData.mediaConfig = mediaObject.mediaConfig;\n    return this._castSession.loadMedia(request).then(() => this._onLoadMediaSuccess(), error => this._onLoadMediaFailed(error));\n  }\n\n  _setupLocalPlayer(): void {\n    this._logger.debug('Setup local player');\n    const snapshot = new PlayerSnapshot(this);\n    const payload = new RemoteDisconnectedPayload(this, snapshot);\n    this.pause();\n    this.destroy();\n    this._remoteControl.onRemoteDeviceDisconnected(payload);\n  }\n\n  _createReadyPromise(): void {\n    this._readyPromise = new Promise(resolve => {\n      this._eventManager.listenOnce(this, EventType.TRACKS_CHANGED, () => {\n        this.dispatchEvent(new FakeEvent(EventType.MEDIA_LOADED));\n        resolve();\n      });\n    });\n  }\n\n  _attachListeners(): void {\n    this._eventManager.listen(this._engine, EventType.TIME_UPDATE, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._engine, EventType.PAUSE, e => this._onPause(e));\n    this._eventManager.listen(this._engine, EventType.PLAY, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._engine, EventType.VOLUME_CHANGE, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._engine, EventType.MUTE_CHANGE, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._engine, EventType.DURATION_CHANGE, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._engine, EventType.ENDED, e => this._onEnded(e));\n    this._eventManager.listen(this._engine, EventType.SEEKING, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._engine, EventType.SEEKED, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._tracksManager, EventType.TRACKS_CHANGED, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._tracksManager, EventType.TEXT_TRACK_CHANGED, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._tracksManager, EventType.VIDEO_TRACK_CHANGED, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._tracksManager, EventType.AUDIO_TRACK_CHANGED, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._tracksManager, EventType.TEXT_STYLE_CHANGED, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._tracksManager, EventType.ERROR, e => this.dispatchEvent(e));\n    this._eventManager.listen(this._stateManager, EventType.PLAYER_STATE_CHANGED, e => this._onPlayerStateChanged(e));\n  }\n\n  _onPause(e: FakeEvent): void {\n    this._isOnLiveEdge = false;\n    this._eventManager.listenOnce(this._engine, EventType.PLAY, () => {\n      this._isOnLiveEdge = true;\n    });\n    this.dispatchEvent(e);\n  }\n\n  _onEnded(e: FakeEvent): void {\n    this._ended = true;\n    this.dispatchEvent(e);\n    if (this._adsManager.allAdsCompleted) {\n      this.dispatchEvent(new FakeEvent(EventType.PLAYBACK_ENDED));\n    } else {\n      this._eventManager.listenOnce(this, EventType.ALL_ADS_COMPLETED, () => {\n        this.dispatchEvent(new FakeEvent(EventType.PLAYBACK_ENDED));\n      });\n    }\n  }\n\n  _onPlayerStateChanged(e: FakeEvent): void {\n    if (this._ended) return;\n    if (this._stateManager.currentState.type === StateType.PLAYING) {\n      this.dispatchEvent(new FakeEvent(EventType.PLAYING));\n    }\n    this.dispatchEvent(e);\n  }\n\n  _handleFirstPlay(): void {\n    if (this._playbackStarted) {\n      this.dispatchEvent(new FakeEvent(EventType.CHANGE_SOURCE_ENDED));\n    }\n    this.dispatchEvent(new FakeEvent(EventType.PLAYBACK_START));\n    this.dispatchEvent(new FakeEvent(EventType.PLAY));\n    this.dispatchEvent(new FakeEvent(EventType.FIRST_PLAY));\n    this.dispatchEvent(new FakeEvent(EventType.FIRST_PLAYING));\n    this.dispatchEvent(new FakeEvent(EventType.PLAYING));\n    if (this.paused) {\n      this.dispatchEvent(new FakeEvent(EventType.PAUSE));\n    }\n    this._firstPlay = false;\n    this._playbackStarted = true;\n  }\n\n  _resumeSession(): void {\n    this._readyPromise = this._createReadyPromise();\n    this._mediaInfoIntervalId = setInterval(() => {\n      const mediaSession = this._castSession.getMediaSession();\n      if (mediaSession && mediaSession.customData) {\n        clearInterval(this._mediaInfoIntervalId);\n        this._mediaInfo = mediaSession.customData.mediaInfo;\n        this._logger.debug('Resuming session with media info', this._mediaInfo);\n        this._onLoadMediaSuccess();\n      }\n    }, INTERVAL_FREQUENCY);\n  }\n\n  _onLoadMediaSuccess(): void {\n    this._logger.debug('Load media success');\n    this._reset = false;\n    this._triggerInitialPlayerEvents();\n    this._tracksManager.parseTracks();\n    this._handleFirstPlay();\n    let startTime = this._playerConfig.playback.startTime;\n    if (this.isLive() && (startTime === -1 || (typeof this.duration === 'number' && startTime >= this.duration - LIVE_EDGE_THRESHOLD))) {\n      this._isOnLiveEdge = true;\n    }\n  }\n\n  _triggerInitialPlayerEvents(): void {\n    this.dispatchEvent(\n      new FakeEvent(EventType.SOURCE_SELECTED, {\n        selectedSource: [\n          {\n            url: this._castRemotePlayer.mediaInfo.contentUrl,\n            mimetype: this._castRemotePlayer.mediaInfo.contentType\n          }\n        ]\n      })\n    );\n    this.dispatchEvent(new FakeEvent(EventType.LOADED_METADATA));\n    this.dispatchEvent(new FakeEvent(EventType.ABR_MODE_CHANGED, {mode: AbrMode.AUTO}));\n  }\n\n  _onLoadMediaFailed(error: Object): void {\n    this._logger.debug('Load media falied', error);\n    this.dispatchEvent(\n      new FakeEvent(EventType.ERROR, new Error(Error.Severity.CRITICAL, Error.Category.CAST, Error.Code.CAST_LOAD_MEDIA_FAILED, error))\n    );\n  }\n\n  _addSessionLifecycleListeners(): void {\n    this._castContext.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED, event => {\n      switch (event.sessionState) {\n        case cast.framework.SessionState.SESSION_STARTING:\n          this._remoteControl.onRemoteDeviceConnecting();\n          break;\n        case cast.framework.SessionState.SESSION_RESUMED:\n          if (Env.browser.major >= 73 && Env.os.name === 'Android') {\n            this._remoteControl.onRemoteDeviceConnecting();\n          }\n          break;\n        case cast.framework.SessionState.SESSION_ENDING:\n          this._remoteControl.onRemoteDeviceDisconnecting();\n          break;\n        case cast.framework.SessionState.SESSION_START_FAILED:\n          this._remoteControl.onRemoteDeviceConnectFailed();\n          break;\n      }\n    });\n  }\n\n  _getLoadOptions(snapshot: PlayerSnapshot): Object {\n    const loadOptions = {\n      autoplay: this._playerConfig.playback.autoplay,\n      currentTime: this._playerConfig.playback.startTime,\n      media: {}\n    };\n    if (this.textStyle && !this.textStyle.isEqual(snapshot.textStyle)) {\n      loadOptions.media.textTrackStyle = TextStyleConverter.toCastTextStyle(snapshot.textStyle);\n    }\n    loadOptions.media.customData = {\n      audioLanguage: this._playerConfig.playback.audioLanguage,\n      textLanguage: this._playerConfig.playback.textLanguage\n    };\n    if (snapshot.advertising && snapshot.advertising.adTagUrl) {\n      this._adsController = new CastAdsController();\n      const castAdvertising = this._castConfig.advertising;\n      if (!castAdvertising || !castAdvertising.vast) {\n        loadOptions.media.vmapAdsRequest = this._getAdsRequest(snapshot.advertising);\n      } else {\n        const breakClipId = Utils.Generator.uniqueId(5);\n        const breakId = Utils.Generator.uniqueId(5);\n        const breakClips = [\n          {\n            id: breakClipId,\n            position: 0,\n            vastAdsRequest: this._getAdsRequest(snapshot.advertising)\n          }\n        ];\n        const breaks = [\n          {\n            breakClipIds: [breakClipId],\n            id: breakId,\n            position: 0\n          }\n        ];\n        loadOptions.media.breakClips = breakClips;\n        loadOptions.media.breaks = breaks;\n      }\n    }\n    const externalCaptions = this._getExternalCaptions();\n    externalCaptions.length && (loadOptions.media.tracks = externalCaptions);\n    return loadOptions;\n  }\n\n  _getExternalCaptions() {\n    const externalCaptions = [];\n    if (this._playerConfig.sources.captions && this._playerConfig.sources.captions.length) {\n      this._playerConfig.sources.captions.forEach((caption, index) => {\n        if (caption.type === 'vtt' || caption.url.endsWith('.vtt')) {\n          let newTrack;\n          newTrack = new chrome.cast.media.Track(index + 1, chrome.cast.media.TrackType.TEXT);\n          Utils.Object.mergeDeep(newTrack, {\n            trackContentId: caption.url,\n            trackContentType: 'text/vtt',\n            name: caption.label,\n            language: caption.language\n          });\n          externalCaptions.push(newTrack);\n        } else {\n          this._logger.warn(`Text track type ${caption.type} is unsupported by Cast receiver`);\n        }\n      });\n    }\n    return externalCaptions;\n  }\n\n  _getAdsRequest(advertising: Object): Object {\n    const adsRequest = {};\n    if (advertising.adTagUrl) {\n      adsRequest.adTagUrl = advertising.adTagUrl;\n    }\n    if (advertising.adsResponse) {\n      adsRequest.adsResponse = advertising.adsResponse;\n    }\n    return adsRequest;\n  }\n\n  _onCustomMessage(customChannel: string, customMessage: CustomMessage): void {\n    try {\n      const parsedCustomMessage = JSON.parse(customMessage);\n      this._logger.debug('Custom message received', parsedCustomMessage);\n      switch (parsedCustomMessage.type) {\n        case CustomMessageType.EVENT:\n          this._handleCustomEvent(parsedCustomMessage);\n          break;\n      }\n    } catch (e) {\n      this.dispatchEvent(\n        new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.CAST_CUSTOM_MESSAGE_PARSING_ERROR, e))\n      );\n    }\n  }\n\n  _handleCustomEvent(customEvent: CustomEventMessage): void {\n    this.dispatchEvent(new FakeEvent(customEvent.event, customEvent.payload));\n  }\n}\n\nexport {CastPlayer};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-player.js","// @flow\nimport {CastPlayer} from './cast-player';\nimport {cast} from 'kaltura-player-js';\n\nconst {registerRemotePlayer} = cast;\n\ndeclare var __VERSION__: string;\ndeclare var __NAME__: string;\nexport {CastPlayer as RemotePlayer};\nexport {__VERSION__ as VERSION, __NAME__ as NAME};\n\nif (CastPlayer.isSupported()) {\n  registerRemotePlayer(CastPlayer.Type, CastPlayer);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","//@flow\nimport {core} from 'kaltura-player-js';\n\nconst {State, FakeEvent, EventType, FakeEventTarget, StateType} = core;\n\nclass CastStateManager extends FakeEventTarget {\n  _currentState: State;\n  _previousState: State;\n  _remotePlayer: Object;\n  _remotePlayerController: Object;\n  _updateState: Function;\n\n  constructor(remotePlayer: Object, remotePlayerController: Object) {\n    super();\n    this._remotePlayer = remotePlayer;\n    this._remotePlayerController = remotePlayerController;\n    this._currentState = new State(StateType.IDLE);\n    this._previousState = new State(StateType.IDLE);\n    this._updateState = this._updateState.bind(this);\n    this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED, this._updateState);\n  }\n\n  _updateState(): void {\n    this._currentState.duration = Date.now() / 1000;\n    this._previousState = this._currentState;\n    if (this._remotePlayer.playerState) {\n      this._currentState = new State(this._remotePlayer.playerState.toLowerCase());\n    } else {\n      this._currentState = new State(StateType.IDLE);\n    }\n    this.dispatchEvent(\n      new FakeEvent(EventType.PLAYER_STATE_CHANGED, {\n        oldState: this.previousState,\n        newState: this.currentState\n      })\n    );\n  }\n\n  reset(): void {\n    this._currentState = new State(StateType.IDLE);\n    this._previousState = new State(StateType.IDLE);\n  }\n\n  destroy(): void {\n    this._remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED, this._updateState);\n    this._currentState = new State(StateType.IDLE);\n    this._previousState = new State(StateType.IDLE);\n  }\n\n  get currentState(): State {\n    return this._currentState;\n  }\n\n  get previousState(): State {\n    return this._previousState;\n  }\n}\n\nexport {CastStateManager};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-state-manager.js","// @flow\nimport {cast as remote, core} from 'kaltura-player-js';\nimport {INTERVAL_FREQUENCY} from './cast-player';\n\nconst {TextStyleConverter} = remote;\nconst {Track, getLogger, TextStyle, AudioTrack, VideoTrack, TextTrack, Utils, TrackType, EventType, FakeEvent, FakeEventTarget, Error} = core;\nconst TRACK_TYPE_TO_INSTANCE: {[type: string]: Track} = {\n  [TrackType.AUDIO]: AudioTrack,\n  [TrackType.VIDEO]: VideoTrack,\n  [TrackType.TEXT]: TextTrack\n};\n\nclass CastTracksManager extends FakeEventTarget {\n  _remotePlayer: Object;\n  _castSession: Object;\n  _textStyle: TextStyle;\n  _activeTrackIds: Array<number> = [];\n  _tracks: Array<Track> = [];\n  _mediaStatusIntervalId: ?number;\n  _onMediaStatusUpdate: Function;\n  _logger: any;\n\n  constructor(remotePlayer: Object) {\n    super();\n    this._remotePlayer = remotePlayer;\n    this._logger = getLogger('CastTracksManager');\n    this._castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n    this._textStyle = new TextStyle();\n    this._bindEvents();\n  }\n\n  parseTracks(): void {\n    const tracks = this._remotePlayer.mediaInfo.tracks;\n    if (tracks && tracks.length > 0) {\n      const castTextTracks = tracks.filter(t => t.type === chrome.cast.media.TrackType.TEXT);\n      const castVideoTracks = tracks.filter(t => t.type === chrome.cast.media.TrackType.VIDEO);\n      const castAudioTracks = tracks.filter(t => t.type === chrome.cast.media.TrackType.AUDIO);\n      const textTracks = this._parseTextTracks(castTextTracks);\n      const videoTracks = this._parseVideoTracks(castVideoTracks);\n      const audioTracks = this._parseAudioTracks(castAudioTracks);\n      this._tracks = audioTracks.concat(videoTracks).concat(textTracks);\n      this._addTextTrackOffOption();\n    }\n    this._logger.debug('Parse tracks', this._tracks);\n    this._startOnMediaStatusUpdateInterval();\n    this.dispatchEvent(new FakeEvent(EventType.TRACKS_CHANGED, {tracks: this._tracks}));\n  }\n\n  getTracks(type?: string): Array<Track> {\n    return Utils.Object.copyDeep(this._getTracksByType(type));\n  }\n\n  getActiveTracks(): Object {\n    return Utils.Object.copyDeep({\n      video: this._getTracksByType(TrackType.VIDEO).find(track => track.active),\n      audio: this._getTracksByType(TrackType.AUDIO).find(track => track.active),\n      text: this._getTracksByType(TrackType.TEXT).find(track => track.active)\n    });\n  }\n\n  selectTrack(track: ?Track): void {\n    if (track instanceof VideoTrack) {\n      this._selectVideoTrack(track);\n    } else if (track instanceof AudioTrack) {\n      this._selectAudioTrack(track);\n    } else if (track instanceof TextTrack) {\n      this._selectTextTrack(track);\n    }\n  }\n\n  hideTextTrack(): void {\n    const offTrack = this._tracks.find(t => t.language === 'off');\n    this.selectTrack(offTrack);\n  }\n\n  reset(): void {\n    this._stopOnMediaStatusUpdateInterval();\n    this._tracks = [];\n    this._activeTrackIds = [];\n  }\n\n  destroy(): void {\n    this._stopOnMediaStatusUpdateInterval();\n    this._tracks = [];\n    this._activeTrackIds = [];\n  }\n\n  set textStyle(style: TextStyle): void {\n    this._logger.debug('Setting text style', style);\n    const textTrackStyle = TextStyleConverter.toCastTextStyle(style);\n    const tracksInfoRequest = new chrome.cast.media.EditTracksInfoRequest(null, textTrackStyle);\n    const mediaSession = this._castSession.getMediaSession();\n    mediaSession.editTracksInfo(\n      tracksInfoRequest,\n      () => {\n        this._logger.debug('Setting text style succeed');\n        this._textStyle = style;\n        this.dispatchEvent(new FakeEvent(EventType.TEXT_STYLE_CHANGED, {textStyle: style}));\n      },\n      error => {\n        this._logger.debug('Setting text style failed', error);\n        this.dispatchEvent(\n          new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.EDIT_TRACKS_INFO_ERROR, error))\n        );\n      }\n    );\n  }\n\n  get textStyle(): ?TextStyle {\n    return this._textStyle.clone();\n  }\n\n  _startOnMediaStatusUpdateInterval(): void {\n    if (!this._mediaStatusIntervalId) {\n      this._mediaStatusIntervalId = setInterval(this._onMediaStatusUpdate, INTERVAL_FREQUENCY);\n    }\n  }\n\n  _stopOnMediaStatusUpdateInterval(): void {\n    if (this._mediaStatusIntervalId) {\n      clearInterval(this._mediaStatusIntervalId);\n      this._mediaStatusIntervalId = null;\n    }\n  }\n\n  _bindEvents(): void {\n    this._onMediaStatusUpdate = this._onMediaStatusUpdate.bind(this);\n  }\n\n  _parseTextTracks(castTextTracks: Array<Object>): Array<TextTrack> {\n    const textTracks = [];\n    const pushTextTrack = track => {\n      const settings: Object = {\n        id: track.trackId,\n        index: track.trackId - 1,\n        label: track.name,\n        language: track.language,\n        kind: track.subType || 'subtitles',\n        active: false\n      };\n      textTracks.push(new TextTrack(settings));\n    };\n    const inbandCastTextTracks = [];\n    const outbandCastTextTracks = [];\n    castTextTracks.forEach(track => {\n      if (track.trackContentId) {\n        outbandCastTextTracks.push(track);\n      } else {\n        inbandCastTextTracks.push(track);\n      }\n    });\n    inbandCastTextTracks.forEach(pushTextTrack);\n    outbandCastTextTracks.forEach(track => {\n      if (inbandCastTextTracks.some(inbandTrack => Track.langComparer(track.language, inbandTrack.language))) {\n        this._logger.warn('duplicated language, taking the inband option. Language: ', track.language);\n      } else {\n        pushTextTrack(track);\n      }\n    });\n    return textTracks;\n  }\n\n  _parseVideoTracks(castVideoTracks: Array<Object>): Array<VideoTrack> {\n    const videoTracks = [];\n    castVideoTracks.forEach(track => {\n      const settings: Object = {\n        id: track.trackId,\n        index: track.trackId - 1,\n        label: track.name,\n        language: track.language,\n        active: false\n      };\n      videoTracks.push(new VideoTrack(settings));\n    });\n    return videoTracks;\n  }\n\n  _parseAudioTracks(castAudioTracks: Array<Object>): Array<AudioTrack> {\n    const audioTracks = [];\n    castAudioTracks.forEach(track => {\n      const settings: Object = {\n        id: track.trackId,\n        index: track.trackId - 1,\n        label: track.name,\n        language: track.language,\n        active: false\n      };\n      audioTracks.push(new AudioTrack(settings));\n    });\n    return audioTracks;\n  }\n\n  _selectVideoTrack(track: VideoTrack): void {\n    this._stopOnMediaStatusUpdateInterval();\n    const currentTrack = this.getActiveTracks().video;\n    this._selectTrack(\n      track,\n      currentTrack,\n      () => {\n        this.dispatchEvent(new FakeEvent(EventType.VIDEO_TRACK_CHANGED, {selectedVideoTrack: track}));\n        this._startOnMediaStatusUpdateInterval();\n      },\n      error => {\n        this.dispatchEvent(\n          new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.EDIT_TRACKS_INFO_ERROR, error))\n        );\n      }\n    );\n  }\n\n  _selectAudioTrack(track: AudioTrack): void {\n    this._stopOnMediaStatusUpdateInterval();\n    const currentTrack = this.getActiveTracks().audio;\n    this._selectTrack(\n      track,\n      currentTrack,\n      () => {\n        this.dispatchEvent(new FakeEvent(EventType.AUDIO_TRACK_CHANGED, {selectedAudioTrack: track}));\n        this._startOnMediaStatusUpdateInterval();\n      },\n      error => {\n        this.dispatchEvent(\n          new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.CAST_EDIT_TRACKS_INFO_ERROR, error))\n        );\n      }\n    );\n  }\n\n  _selectTextTrack(track: TextTrack): void {\n    this._stopOnMediaStatusUpdateInterval();\n    const currentTrack = this.getActiveTracks().text;\n    this._selectTrack(\n      track,\n      currentTrack,\n      () => {\n        this.dispatchEvent(new FakeEvent(EventType.TEXT_TRACK_CHANGED, {selectedTextTrack: track}));\n        this._startOnMediaStatusUpdateInterval();\n      },\n      error => {\n        this.dispatchEvent(\n          new FakeEvent(EventType.ERROR, new Error(Error.Severity.RECOVERABLE, Error.Category.CAST, Error.Code.EDIT_TRACKS_INFO_ERROR, error))\n        );\n      }\n    );\n  }\n\n  _selectTrack(newTrack: Track, currentTrack: ?Track, onSuccess: Function, onFailed: Function): void {\n    this._logger.debug('Select track', newTrack, currentTrack, this._activeTrackIds);\n    if (currentTrack) {\n      const index = this._activeTrackIds.indexOf(currentTrack.id);\n      if (index > -1) {\n        this._activeTrackIds.splice(index, 1);\n      }\n    }\n    if (newTrack.id && newTrack.language !== 'off') {\n      this._activeTrackIds.push(newTrack.id);\n    }\n    const tracksInfoRequest = new chrome.cast.media.EditTracksInfoRequest(this._activeTrackIds);\n    const mediaSession = this._castSession.getMediaSession();\n    mediaSession.editTracksInfo(\n      tracksInfoRequest,\n      () => {\n        this._logger.debug('Select track succeeded');\n        this._markActiveTrack(currentTrack, false);\n        this._markActiveTrack(newTrack, true);\n        onSuccess();\n      },\n      e => {\n        this._logger.debug('Select track failed', e);\n        onFailed(e);\n      }\n    );\n  }\n\n  _markActiveTrack(track: ?Track, active: boolean): void {\n    if (track) {\n      const {id, language} = track;\n      const origTrack = this._tracks.find(t => t.id === id || (t.language === language && language === 'off'));\n      if (origTrack) {\n        origTrack.active = active;\n      }\n    }\n  }\n\n  _addTextTrackOffOption(): void {\n    const textTracks = this._getTracksByType(TrackType.TEXT);\n    if (textTracks && textTracks.length) {\n      this._tracks.push(\n        new TextTrack({\n          active: true,\n          index: textTracks.length,\n          kind: 'subtitles',\n          label: 'Off',\n          language: 'off'\n        })\n      );\n    }\n  }\n\n  _getTracksByType(type?: string): Array<Track> {\n    return !type\n      ? this._tracks\n      : this._tracks.filter(track => {\n          if (type && TRACK_TYPE_TO_INSTANCE[type]) {\n            return track instanceof TRACK_TYPE_TO_INSTANCE[type];\n          }\n          return true;\n        });\n  }\n\n  _onMediaStatusUpdate(): void {\n    const mediaSession = this._castSession.getMediaSession();\n    if (mediaSession) {\n      const isTextStyleChanged = () => {\n        const localTextStyle = TextStyleConverter.toCastTextStyle(this.textStyle);\n        const remoteTextStyle = mediaSession.media.textTrackStyle;\n        if (remoteTextStyle) {\n          return !(\n            localTextStyle.backgroundColor === remoteTextStyle.backgroundColor &&\n            localTextStyle.fontFamily === remoteTextStyle.fontFamily &&\n            localTextStyle.fontScale === remoteTextStyle.fontScale &&\n            localTextStyle.foregroundColor === remoteTextStyle.foregroundColor\n          );\n        }\n        return false;\n      };\n      const isActiveTrackIdsChanged = () => {\n        if (mediaSession.activeTrackIds) {\n          return !(\n            this._activeTrackIds.length === mediaSession.activeTrackIds.length &&\n            this._activeTrackIds.every((value, index) => value === mediaSession.activeTrackIds[index])\n          );\n        }\n        return false;\n      };\n      if (isActiveTrackIdsChanged()) {\n        const diffIds = mediaSession.activeTrackIds.filter(i => !this._activeTrackIds.includes(i));\n        diffIds.forEach(id => {\n          const track = this._tracks.find(t => t.id === id);\n          this.selectTrack(track);\n        });\n      }\n      if (isTextStyleChanged()) {\n        const style = TextStyleConverter.toPlayerTextStyle(mediaSession.media.textTrackStyle);\n        this._textStyle = style;\n        this.dispatchEvent(new FakeEvent(EventType.TEXT_STYLE_CHANGED, {textStyle: style}));\n      }\n    }\n  }\n}\n\nexport {CastTracksManager};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-tracks-manager.js","// @flow\nimport {core} from 'kaltura-player-js';\nimport {INTERVAL_FREQUENCY} from './cast-player';\n\nconst {EventType, FakeEvent, FakeEventTarget} = core;\n\nclass CastPlaybackEngine extends FakeEventTarget {\n  _remotePlayer: Object;\n  _remotePlayerController: Object;\n  _mediaSession: Object;\n  _muted: boolean = false;\n  _volume: number = 1;\n  _paused: boolean = false;\n  _currentTime: number = 0;\n  _duration: number = 0;\n  _seeking: boolean = false;\n  _seekForward: boolean;\n  _seekTargetTime: ?number;\n  _liveCurrentTimeIntervalId: number;\n  _onCurrentTimeChanged: Function;\n  _onIsPausedChanged: Function;\n  _onDurationChanged: Function;\n  _onVolumeLevelChanged: Function;\n  _onIsMutedChanged: Function;\n  _onIsMediaLoadedChanged: Function;\n  _onLiveCurrentTimeChanged: Function;\n\n  constructor(remotePlayer: Object, remotePlayerController: Object) {\n    super();\n    this._remotePlayer = remotePlayer;\n    this._remotePlayerController = remotePlayerController;\n    this._bindEvents();\n    this._toggleListeners(true);\n  }\n\n  reset(): void {\n    this._toggleListeners(false);\n    clearInterval(this._liveCurrentTimeIntervalId);\n    this._resetFlags();\n    this._toggleListeners(true);\n  }\n\n  destroy(): void {\n    clearInterval(this._liveCurrentTimeIntervalId);\n    this._toggleListeners(false);\n    this._muted = false;\n    this._volume = 1;\n    this._resetFlags();\n  }\n\n  play(): void {\n    this._remotePlayerController.playOrPause();\n  }\n\n  pause(): void {\n    if (this._remotePlayer.canPause) {\n      this._remotePlayerController.playOrPause();\n    }\n  }\n\n  set muted(value: boolean) {\n    if ((value && !this.muted) || (!value && this.muted)) {\n      this._remotePlayerController.muteOrUnmute();\n    }\n  }\n\n  set volume(value: number) {\n    if (this._remotePlayer.canControlVolume) {\n      this._remotePlayer.volumeLevel = value;\n      this._remotePlayerController.setVolumeLevel();\n    }\n  }\n\n  set currentTime(value: number) {\n    if (this._remotePlayer.canSeek) {\n      this._seeking = true;\n      this.dispatchEvent(new FakeEvent(EventType.SEEKING));\n      this._remotePlayer.currentTime = this._seekTargetTime = value;\n      this._seekForward = value > this.currentTime;\n      this._remotePlayerController.seek();\n    }\n  }\n\n  get duration(): ?number {\n    return this._duration;\n  }\n\n  get paused(): ?boolean {\n    if (this._remotePlayer.savedPlayerState) {\n      return this._remotePlayer.savedPlayerState.isPaused;\n    }\n    return this._paused;\n  }\n\n  get seeking(): ?boolean {\n    return this._seeking;\n  }\n\n  get muted(): ?boolean {\n    return this._muted;\n  }\n\n  get currentTime(): number {\n    if (this._remotePlayer.savedPlayerState) {\n      return this._remotePlayer.savedPlayerState.currentTime;\n    }\n    return this._currentTime;\n  }\n\n  get volume(): ?number {\n    return this._volume;\n  }\n\n  _resetFlags(): void {\n    this._paused = false;\n    this._currentTime = 0;\n    this._duration = 0;\n    this._seeking = false;\n  }\n\n  _bindEvents(): void {\n    this._onCurrentTimeChanged = this._onCurrentTimeChanged.bind(this);\n    this._onIsPausedChanged = this._onIsPausedChanged.bind(this);\n    this._onDurationChanged = this._onDurationChanged.bind(this);\n    this._onVolumeLevelChanged = this._onVolumeLevelChanged.bind(this);\n    this._onIsMutedChanged = this._onIsMutedChanged.bind(this);\n    this._onIsMediaLoadedChanged = this._onIsMediaLoadedChanged.bind(this);\n    this._onLiveCurrentTimeChanged = this._onLiveCurrentTimeChanged.bind(this);\n  }\n\n  _toggleListeners(listen: boolean): void {\n    const listeners = {\n      [cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]: this._onIsMediaLoadedChanged,\n      [cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED]: this._onIsPausedChanged,\n      [cast.framework.RemotePlayerEventType.DURATION_CHANGED]: this._onDurationChanged,\n      [cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]: this._onVolumeLevelChanged,\n      [cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED]: this._onIsMutedChanged\n    };\n    if (listen) {\n      Object.keys(listeners).forEach(e => this._remotePlayerController.addEventListener(e, listeners[e]));\n    } else {\n      Object.keys(listeners).forEach(e => this._remotePlayerController.removeEventListener(e, listeners[e]));\n      this._remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED, this._onCurrentTimeChanged);\n    }\n  }\n\n  _onIsMediaLoadedChanged(isMediaLoadedEvent: Object): void {\n    const onMediaInfoChanged = () => {\n      this._remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED, onMediaInfoChanged);\n      if (this._remotePlayer.mediaInfo.streamType === chrome.cast.media.StreamType.LIVE) {\n        this._mediaSession = cast.framework.CastContext.getInstance()\n          .getCurrentSession()\n          .getMediaSession();\n        this._liveCurrentTimeIntervalId = setInterval(this._onLiveCurrentTimeChanged, INTERVAL_FREQUENCY);\n      } else {\n        this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED, this._onCurrentTimeChanged);\n      }\n    };\n    if (isMediaLoadedEvent.value) {\n      this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED, onMediaInfoChanged);\n    }\n  }\n\n  _onCurrentTimeChanged(): void {\n    this._currentTime = this._remotePlayer.currentTime;\n    this._maybeDispatchTimeUpdate();\n    this._maybeEndPlayback();\n  }\n\n  _onLiveCurrentTimeChanged(): void {\n    this._currentTime = this._mediaSession.currentTime;\n    this._maybeDispatchTimeUpdate();\n    this._maybeEndLivePlayback();\n  }\n\n  _onIsPausedChanged(): void {\n    this._paused = this._remotePlayer.isPaused;\n    if (this._paused) {\n      this.dispatchEvent(new FakeEvent(EventType.PAUSE));\n    } else {\n      this.dispatchEvent(new FakeEvent(EventType.PLAY));\n    }\n  }\n\n  _onDurationChanged(): void {\n    this._duration = this._remotePlayer.duration;\n    this.dispatchEvent(new FakeEvent(EventType.DURATION_CHANGE));\n  }\n\n  _onVolumeLevelChanged(): void {\n    this._volume = this._remotePlayer.volumeLevel;\n    this.dispatchEvent(new FakeEvent(EventType.VOLUME_CHANGE));\n  }\n\n  _onIsMutedChanged(): void {\n    this._muted = this._remotePlayer.isMuted;\n    this.dispatchEvent(new FakeEvent(EventType.MUTE_CHANGE, {mute: this.muted}));\n  }\n\n  _maybeDispatchTimeUpdate(): void {\n    if (!this._seeking) {\n      this.dispatchEvent(new FakeEvent(EventType.TIME_UPDATE));\n    } else if (\n      this._seekTargetTime &&\n      ((this._seekForward && this.currentTime >= this._seekTargetTime) || (!this._seekForward && this.currentTime <= this._seekTargetTime))\n    ) {\n      this._seeking = false;\n      this._seekTargetTime = null;\n      this.dispatchEvent(new FakeEvent(EventType.SEEKED));\n      this.dispatchEvent(new FakeEvent(EventType.TIME_UPDATE));\n    }\n  }\n\n  _maybeEndPlayback(): void {\n    const delta = Math.round(this._duration - this._currentTime);\n    if (this._currentTime !== 0 && this._duration !== 0 && delta <= 1) {\n      this._currentTime = this._duration;\n      this._paused = true;\n      this.dispatchEvent(new FakeEvent(EventType.ENDED));\n    }\n  }\n\n  _maybeEndLivePlayback(): void {\n    const range = this._mediaSession.liveSeekableRange;\n    if (range && range.isLiveDone) {\n      this._paused = true;\n      this.dispatchEvent(new FakeEvent(EventType.ENDED));\n    }\n  }\n}\n\nexport {CastPlaybackEngine};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-playback-engine.js","// @flow\nimport {cast, ui} from 'kaltura-player-js';\n\n// eslint-disable-next-line no-unused-vars\nconst {style, Components} = ui;\nconst {RemotePlayerUI} = cast;\n\nclass CastUI extends RemotePlayerUI {\n  playbackUI(props: Object): any {\n    return (\n      <div className={style.playbackGuiWrapper}>\n        <Components.KeyboardControl player={props.player} config={props.config} />\n        <Components.Loading player={props.player} />\n        <div className={style.playerGui} id=\"player-gui\">\n          <Components.OverlayPortal />\n          <Components.BottomBar>\n            <Components.SeekBarPlaybackContainer showFramePreview showTimeBubble player={props.player} playerContainer={props.playerContainer} />\n            <div className={style.leftControls}>\n              <Components.PlaybackControls player={props.player} />\n              <Components.RewindControl player={props.player} step={10} />\n              <Components.ForwardControl player={props.player} step={10} />\n              <Components.TimeDisplayPlaybackContainer format=\"current / total\" />\n            </div>\n            <div className={style.rightControls}>\n              <Components.VolumeControl player={props.player} />\n              <Components.LanguageControl player={props.player} />\n              <Components.CastControl player={props.player} />\n              <Components.FullscreenControl player={props.player} />\n            </div>\n          </Components.BottomBar>\n          <Components.CastOverlay player={props.player} />\n          <Components.OverlayAction player={props.player} />\n          <Components.PlaybackControls player={props.player} />\n        </div>\n        <Components.PrePlaybackPlayOverlay player={props.player} />\n        <Components.CastAfterPlay player={props.player} />\n      </div>\n    );\n  }\n\n  liveUI(props: Object): any {\n    return (\n      <div className={style.playbackGuiWrapper}>\n        <Components.KeyboardControl player={props.player} config={props.config} />\n        <Components.Loading player={props.player} />\n        <div className={style.playerGui} id=\"player-gui\">\n          <Components.OverlayPortal />\n          <Components.BottomBar>\n            <Components.SeekBarLivePlaybackContainer showFramePreview showTimeBubble player={props.player} playerContainer={props.playerContainer} />\n            <div className={style.leftControls}>\n              <Components.PlaybackControls player={props.player} />\n              <Components.LiveTag player={props.player} />\n            </div>\n            <div className={style.rightControls}>\n              <Components.VolumeControl player={props.player} />\n              <Components.LanguageControl player={props.player} />\n              <Components.CastControl player={props.player} />\n              <Components.FullscreenControl player={props.player} />\n            </div>\n          </Components.BottomBar>\n          <Components.CastOverlay player={props.player} />\n          <Components.OverlayAction player={props.player} />\n          <Components.PlaybackControls player={props.player} />\n        </div>\n        <Components.PrePlaybackPlayOverlay player={props.player} />\n        <Components.CastAfterPlay player={props.player} />\n      </div>\n    );\n  }\n\n  idleUI(props: Object): any {\n    return (\n      <div className={style.playbackGuiWrapper}>\n        <Components.Loading player={props.player} />\n        <Components.CastOverlay player={props.player} />\n      </div>\n    );\n  }\n\n  adsUI(props: Object): any {\n    return (\n      <div className={style.adGuiWrapper}>\n        <Components.KeyboardControl player={props.player} config={props.config} />\n        <Components.Loading player={props.player} />\n        <div className={style.playerGui} id=\"player-gui\">\n          <Components.CastOverlay player={props.player} />\n          <Components.OverlayAction player={props.player} />\n          <div>\n            <Components.TopBar>\n              <div className={style.leftControls}>\n                <Components.AdNotice />\n              </div>\n              <div className={style.rightControls}>\n                <Components.AdLearnMore />\n              </div>\n            </Components.TopBar>\n            <Components.AdSkip player={props.player} />\n          </div>\n          <Components.BottomBar>\n            <div className={style.leftControls}>\n              <Components.PlaybackControls player={props.player} />\n              <Components.TimeDisplayAdsContainer />\n            </div>\n            <div className={style.rightControls}>\n              <Components.VolumeControl player={props.player} />\n              <Components.CastControl player={props.player} />\n              <Components.FullscreenControl player={props.player} />\n            </div>\n          </Components.BottomBar>\n          <Components.PlaybackControls player={props.player} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport {CastUI};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-ui.js","// @flow\nimport {core} from 'kaltura-player-js';\n\nconst {Utils, getLogger} = core;\n\nconst SENDER_SDK_URL: string = '//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1';\n\nclass CastLoader {\n  static _logger: any = getLogger('CastLoader');\n\n  static load(): Promise<*> {\n    return new Promise((resolve, reject) => {\n      window['__onGCastApiAvailable'] = isAvailable => CastLoader._onGCastApiAvailable(isAvailable, resolve);\n      CastLoader._loadCastSDK()\n        .then(() => CastLoader._logger.debug('Cast sender lib has been loaded successfully'))\n        .catch(e => {\n          CastLoader._logger.debug('Cast sender lib loading failed', e);\n          reject(e);\n        });\n    });\n  }\n\n  static _loadCastSDK(): Promise<*> {\n    if (window['cast'] && window['cast']['framework']) {\n      return Promise.resolve();\n    }\n    return Utils.Dom.loadScriptAsync(SENDER_SDK_URL);\n  }\n\n  static _onGCastApiAvailable(isAvailable: boolean, resolve: Function): void {\n    CastLoader._logger.debug(`onGCastApiAvailable, isAvailable: ${isAvailable.toString()}`);\n    if (isAvailable) {\n      resolve();\n    } else {\n      CastLoader._logger.debug(`Google cast API isn't available yet`);\n    }\n  }\n}\n\nexport {CastLoader};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-loader.js","// @flow\nimport {CUSTOM_CHANNEL} from './cast-player';\nimport {cast as remote} from 'kaltura-player-js';\n\nconst {CustomActionMessage, CustomActionType} = remote;\n\n/**\n * Cast Ads Controller.\n * @class CastAdsController\n */\nclass CastAdsController {\n  _castSession: Object;\n\n  constructor() {\n    this._castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n  }\n\n  /**\n   * Skips on an ad.\n   * @returns {void}\n   * @memberof CastAdsController\n   * @instance\n   */\n  skipAd(): void {\n    this._castSession.sendMessage(CUSTOM_CHANNEL, new CustomActionMessage(CustomActionType.SKIP_AD));\n  }\n}\n\nexport {CastAdsController};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-ads-controller.js","// @flow\nimport {CastPlayer} from './cast-player';\nimport {core} from 'kaltura-player-js';\n\nconst {EventManager, EventType, FakeEventTarget} = core;\n\nclass CastAdsManager extends FakeEventTarget {\n  _castPlayer: CastPlayer;\n  _adBreak: boolean = false;\n  _allAdsCompleted: boolean = true;\n  _eventManager: EventManager;\n\n  constructor(castPlayer: CastPlayer) {\n    super();\n    this._castPlayer = castPlayer;\n    this._eventManager = new EventManager();\n    this._attachListeners();\n  }\n\n  _attachListeners(): void {\n    this._eventManager.listen(this._castPlayer, EventType.AD_MANIFEST_LOADED, () => {\n      this._allAdsCompleted = false;\n    });\n\n    this._eventManager.listen(this._castPlayer, EventType.AD_BREAK_START, () => {\n      this._adBreak = true;\n    });\n\n    this._eventManager.listen(this._castPlayer, EventType.AD_BREAK_END, () => {\n      this._adBreak = false;\n    });\n\n    this._eventManager.listen(this._castPlayer, EventType.ALL_ADS_COMPLETED, () => {\n      this._allAdsCompleted = true;\n    });\n  }\n\n  get adBreak(): boolean {\n    return this._adBreak;\n  }\n\n  get allAdsCompleted(): boolean {\n    return this._allAdsCompleted;\n  }\n\n  reset(): void {\n    this._eventManager.removeAll();\n    this._adBreak = false;\n    this._allAdsCompleted = true;\n    this._attachListeners();\n  }\n\n  destroy(): void {\n    this._adBreak = false;\n    this._allAdsCompleted = true;\n    this._eventManager.destroy();\n  }\n}\n\nexport {CastAdsManager};\n\n\n\n// WEBPACK FOOTER //\n// ./cast-ads-manager.js"],"sourceRoot":""}